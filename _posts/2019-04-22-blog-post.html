---
layout: post
title: Salesforce Lightning Web components | Editable List
date: '2019-04-22T01:18:00.000-07:00'
author: Kishore Bandanadam
tags:
- Lightning Web Components
modified_time: '2019-11-01T12:09:42.760-07:00'
thumbnail: https://2.bp.blogspot.com/-xybyyvGXgCw/XMC1Bam69CI/AAAAAAAAADw/XKNjCxVUBFAedOteSJJk-wIRFfFsOfBZACPcBGAYYCw/s72-c/LIGHTNING%2BWEB%2BCOMPONENTS%2B%25281%2529.png
blogger_id: tag:blogger.com,1999:blog-1420289748500157217.post-3292647392080701592
blogger_orig_url: https://www.salesforcelwc.in/2019/04/blog-post.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><div dir="ltr" style="text-align: left;" trbidi="on"><h4 style="text-align: left;"><a href="https://www.salesforcelwc.in/2019/04/blog-post.html" rel="">Editable List using Lightning Web Components</a></h4><div class="separator" style="clear: both; text-align: center;"></div><div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"></div><br /><div class="separator" style="clear: both; text-align: center;"></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://2.bp.blogspot.com/-xybyyvGXgCw/XMC1Bam69CI/AAAAAAAAADw/XKNjCxVUBFAedOteSJJk-wIRFfFsOfBZACPcBGAYYCw/s1600/LIGHTNING%2BWEB%2BCOMPONENTS%2B%25281%2529.png" style="margin-left: 1em; margin-right: 1em;"><img alt="Editable List using Lightning Web Components" border="0" data-original-height="410" data-original-width="640" src="https://2.bp.blogspot.com/-xybyyvGXgCw/XMC1Bam69CI/AAAAAAAAADw/XKNjCxVUBFAedOteSJJk-wIRFfFsOfBZACPcBGAYYCw/s1600/LIGHTNING%2BWEB%2BCOMPONENTS%2B%25281%2529.png" title="Editable List using Lightning Web Components" /></a></div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"></div><br /></div><div><h2 style="text-align: left;"><a href="https://www.salesforcelwc.in/2019/04/blog-post.html" rel="">Editable List using Lightning Web Components</a></h2></div><div><span style="font-size: large;">We are going to see how an editable list can be built using lightning web components.</span></div><div><span style="font-size: large;"><br /></span> <span style="font-family: inherit; font-size: large;">We are all aware of the newly introduced Lightning Web Components by Salesforce. Now we can build Lightning components using two programming models,&nbsp;</span><br /><span style="font-family: inherit;"></span><br /><a name='more'></a><br /><ol style="text-align: left;"><li><span style="font-family: inherit; font-size: large;">Lightning Web Components (New model)&nbsp;</span></li><li><span style="font-family: inherit; font-size: large;">Aura Components (Original model)</span></li></ol><span style="font-family: inherit; font-size: large;"><br /></span> <span style="font-family: inherit; font-size: large;">Lightning web components are custom HTML elements built using HTML and modern JavaScript. With newly introduced tech comes new challenges. We are going to overcome those challenges and develop a component.</span><br /><!-- Post Ad --><br /><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><br /><!-- Common Display Ad --><br /><ins class="adsbygoogle"      style="display:block"      data-ad-client="ca-pub-6753262254014660"      data-ad-slot="8811166651"      data-ad-format="auto"      data-full-width-responsive="true"></ins><br /><script>     (adsbygoogle = window.adsbygoogle || []).push({}); </script><br /><!-- Post Ad --><br /><br /><span style="font-size: large;">Before doing anything lets discuss why we need a custom data table? Salesforce already provided a standard data table. Do we really need a custom table? Let's answer all these questions. Because if there exists a pre-built component there is no meaning in building another one with our effort.<br /><br />Yes, Salesforce provides us a base component called lightning:dataTable, which just takes a couple of parameters and that's it, it takes care of everything. If you are trying to just display some data it is more than enough. If you want to make it editable for up to some extent it is okay, but if your table consists of any reference fields, picklists, checkbox, and radio buttons then comes the actual problem. All these field types are not supported by default in the standard data table and even you cannot manually incorporate them.<br /><br />Hence, we come with the Idea of Custom Data Table. Here we as a developer has full control over what we build and can add any field type. We can even incorporate inline edit rather than using a modal to input data.<br /><br />Everything has its own advantages and disadvantages. Like, standard data table uses optimized cache whereas our custom data table doesn't unless you hardcore apex and js developer.</span><br /><br /><span style="font-family: inherit;"><br /></span> <br /><div class="separator" style="clear: both; text-align: center;"><a href="https://3.bp.blogspot.com/-dPUZwG1he-c/XMQBATTNGYI/AAAAAAAAAG0/yfJb8SO-eg8Z94JRACQxIPuV7ftOYdfYACLcBGAs/s1600/ScreenCapture_4-24-2019-11.29.28-PM%2B%25281%2529.gif" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="1044" data-original-width="1600" height="260" src="https://3.bp.blogspot.com/-dPUZwG1he-c/XMQBATTNGYI/AAAAAAAAAG0/yfJb8SO-eg8Z94JRACQxIPuV7ftOYdfYACLcBGAs/s400/ScreenCapture_4-24-2019-11.29.28-PM%2B%25281%2529.gif" width="400" /></a></div><span style="font-family: inherit;"><br /></span> <br /><h2 style="text-align: left;"><span style="color: #0b5394;"><br /></span></h2><h2 style="text-align: left;"><span style="color: #0b5394;">Scenario:</span></h2><div style="text-align: justify;"><span style="font-size: large;">To display a list of accounts in the form of a table, with fields like Name, Industry, and Phone. Create a button Icon at the end of each row, which on click opens a pop up with that particular record data pre-loaded, and given an option to update that record.</span></div><h3></h3><h2 style="text-align: left;"><span style="color: #0b5394;"><br /></span></h2><h2 style="text-align: left;"><span style="color: #0b5394;">Controllers Used:</span></h2><ul style="text-align: left;"><li><span style="background-color: #cccccc; font-size: large;">AccountsList.cls</span></li></ul><br /><h2 style="text-align: left;"><span style="color: #0b5394;">Components Used:</span></h2></div></div><div><span style="font-size: large;">I have used only one component.</span></div><h4 style="text-align: left;"></h4><h2 style="text-align: left;"><span style="color: #0b5394;"><br /></span></h2><h2 style="text-align: left;"><span style="color: #0b5394;">AccountListEdit:</span></h2><ul style="text-align: left;"><li><span style="font-size: large;"><span style="background-color: #cccccc;">AccountListEdit.html</span>&nbsp;</span></li><li><span style="background-color: #cccccc; font-size: large;">AccountListEdit.js</span></li></ul><h3 style="text-align: left;"></h3><!-- Post Ad --><br /><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><br /><!-- In Article Display Ads --><br /><ins class="adsbygoogle" data-ad-client="ca-pub-6753262254014660" data-ad-slot="9445070986" style="display: inline-block; height: 410px; width: 640px;"></ins><br /><script>     (adsbygoogle = window.adsbygoogle || []).push({}); </script><br /><!-- Post Ad --><br /><h2 style="text-align: left;"><span style="color: #0b5394;">AccountsList.cls</span></h2><div><pre class="language-javascript" width="100%"><code><br />public class accList {<br /><br />    @AuraEnabled(cacheable = true)<br />    public static List<account> getAccounts() {<br />        return [Select Id, Name, Industry, Phone from Account Limit 10];<br />    }<br />}<br /></account></code></pre></div><br /><div style="text-align: justify;"><span style="font-size: large;">In this above apex class, we created getAccounts() method, which returns the list of accounts. Please notice that before the getAccounts() method, in addition to @AuraEnabled annotation, we have also used (cacheable = true), this is because in our AccountListEdit.js file we used @wire service to get the Account List. Don't worry much about this for now. We will learn about @wire service in upcoming posts.</span></div><br /><h2 style="text-align: left;"><span style="color: #0b5394;">AccountListEdit.js</span></h2><div><pre class="language-javascript" width="100%"><code><br />/* eslint-disable no-console */<br />import { LightningElement, wire, track, api } from 'lwc';<br />import getAccounts from '@salesforce/apex/accList.getAccounts';<br />import { refreshApex } from '@salesforce/apex';<br /><br />export default class AccountListEdit extends LightningElement {<br />    @wire(getAccounts) Accounts;<br />    @track open = false;<br />    @api rec2Id;<br /><br />    renderedCallback() {<br />        console.log("Accounts:::", this.Accounts);<br />        //console.log("Accounts:::", JSON.stringify(this.Accounts));<br />    }<br /><br />    handleClick(event) {<br />        console.log("In HandleClick");<br />        const recId = event.target.name;<br />        this.rec2Id = event.currentTarget.name;<br />        console.log("Selected Account Id:::", recId);<br />        console.log("Selected Account Id rec2Id :::", this.rec2Id);<br />        this.open = true;<br />    }<br /><br />    closeModal() {<br />        console.log("In closeModal");<br />        this.open = false;<br />    }<br /><br />    reloadList() {<br />        return refreshApex(this.Accounts);<br />    }<br />}<br /></code></pre></div><br /><div style="text-align: justify;"><span style="font-size: large;">In the AccountListEdit.js controller, as we are using @wire service, the Accounts list returned from AccountList.cls is assigned to a parameter named <b>Accounts </b>which is decorated by @wire. This Accounts (object) parameter consists of&nbsp; the following shape,</span></div><div><ul style="text-align: left;"><li><span style="font-size: large;">data (any type ex: record, list, etc)</span></li><li><span style="font-size: large;">error (error if any error occurs or undefined)</span></li></ul></div><h4 style="text-align: left;"></h4><h2 style="text-align: left;"></h2><h2 style="text-align: left;"><span style="color: #0b5394;">AccountListEdit.html</span></h2><div><pre class="language-markup" width="100%"><code><br />&lt;template&gt;<br />&lt;lightning-card title="Accounts List" icon-name="standard:account"&gt;<br />    &lt;div class="slds-p-around_x-small"&gt;<br />        &lt;table class="slds-table slds-table_cell-buffer slds-table_bordered"&gt;<br />            &lt;thead&gt;<br />                &lt;tr class="slds-line-height_reset"&gt;<br />                    &lt;th class="" scope="col"&gt;<br />                        &lt;div class="slds-truncate" title="Account Name"&gt;Account Name&lt;/div&gt;<br />                    &lt;/th&gt;<br />                    &lt;th class="" scope="col"&gt;<br />                        &lt;div class="slds-truncate" title="Industry"&gt;Industry&lt;/div&gt;<br />                    &lt;/th&gt;<br />                    &lt;th class="" scope="col"&gt;<br />                        &lt;div class="slds-truncate" title="Phone"&gt;Phone&lt;/div&gt;<br />                    &lt;/th&gt;<br />                    &lt;th class="" scope="col"&gt;<br />                        &lt;div class="slds-truncate" title="Edit"&gt;Action&lt;/div&gt;<br />                    &lt;/th&gt;<br />                &lt;/tr&gt;<br />            &lt;/thead&gt;<br />            &lt;tbody&gt;<br />                &lt;template for:each={Accounts.data} for:item="acc"&gt; <br />                    &lt;tr key={acc.Id} class="slds-hint-parent"&gt;<br />                        &lt;td data-label="Prospecting"&gt;<br />                            &lt;div class="slds-truncate" title="Account Name"&gt;{acc.Name}&lt;/div&gt;<br />                        &lt;/td&gt;<br />                        &lt;td data-label="Confidence"&gt;<br />                            &lt;div class="slds-truncate" title="Industry"&gt;{acc.Industry}&lt;/div&gt;<br />                        &lt;/td&gt;<br />                        &lt;td data-label="Confidence"&gt;<br />                            &lt;div class="slds-truncate" title="Phone"&gt;{acc.Phone}&lt;/div&gt;<br />                        &lt;/td&gt;<br />                        &lt;td data-label="Confidence"&gt;<br />                            &lt;div class="slds-truncate" title="Edit"&gt;<br />                                &lt;a name={acc.Id} onclick={handleClick}&gt;<br />                                    &lt;lightning-icon icon-name="action:edit" size="x-small"&gt;&lt;/lightning-icon&gt;<br />                                &lt;/a&gt;<br />                            &lt;/div&gt;<br />                        &lt;/td&gt;<br />                    &lt;/tr&gt;<br />                &lt;/template&gt;<br />            &lt;/tbody&gt;<br />        &lt;/table&gt;<br />    &lt;/div&gt;<br />&lt;/lightning-card&gt;<br />&lt;template if:true={open}&gt;<br />    &lt;div class="demo-only" style="height: 640px;"&gt;<br />        &lt;section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open"&gt;<br />        &lt;div class="slds-modal__container"&gt;<br />            &lt;header class="slds-modal__header"&gt;<br />                &lt;button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close"&gt;<br />                    &lt;lightning-icon icon-name="utility:close" title="close" size="small" onclick={closeModal} variant="inverse"&gt;&lt;/lightning-icon&gt;<br />                &lt;/button&gt;<br />                &lt;h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate"&gt;Modal Header&lt;/h2&gt;<br />            &lt;/header&gt;<br />            &lt;div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1"&gt;<br />                    &lt;c-update-rec record-id={rec2Id} oncreate={reloadList}&gt;&lt;/c-update-rec&gt;<br />            &lt;/div&gt;<br />            &lt;!--&lt;footer class="slds-modal__footer"&gt;<br />            &lt;button class="slds-button slds-button_neutral"&gt;Cancel&lt;/button&gt;<br />            &lt;button class="slds-button slds-button_brand"&gt;Save&lt;/button&gt;<br />            &lt;/footer&gt;--&gt;<br />        &lt;/div&gt;<br />        &lt;/section&gt;<br />        &lt;div class="slds-backdrop slds-backdrop_open"&gt;&lt;/div&gt;<br />    &lt;/div&gt;<br />&lt;/template&gt;<br />&lt;/template&gt;<br /></code></pre></div><br /><span style="font-size: large;">To iterate over a list in LWC&nbsp; use,</span><br /><span style="font-size: large;"><br /></span> <br /><blockquote class="tr_bq"><span style="background-color: #f3f3f3; font-size: large;">&lt;template for:each= {Accounts.data} for:item="acc"&gt; &lt;/template&gt;</span></blockquote><br /><span style="font-size: large;">tag.</span><br /><br /><h2 style="text-align: left;"><span style="color: #0b5394;"> Optimized code:</span></h2><span style="font-size: large;">Iterate over a list only if it has data or else aborts. For example</span><br /><span style="font-size: large;"><br /></span> <br /><blockquote class="tr_bq"><span style="background-color: #f3f3f3; font-size: large;">&lt;template if:true = {Accounts.data}&gt;</span><br /><span style="background-color: #f3f3f3; font-size: large;">&nbsp; &nbsp; &lt;template for:each= {Accounts.data} for:item="acc"&gt; &lt;/template&gt;</span><br /><span style="background-color: #f3f3f3; font-size: large;">&nbsp;&lt;/template&gt;</span></blockquote><div><span style="font-size: large;"><br /></span> <span style="font-size: large;">Here, Accounts javascript property which is decorated with @wire generates an object with properties {data, error} data and error, which returns data on success and error if it encounters any failure. So as a best practice by wrapping for:each template with the conditional template so that the code doesn't break when it encounters an error, and show an understandable error message instead of component error which makes the user frustrated and worried.&nbsp;</span></div><div><!-- Post Ad --><br /><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><br /><!-- In Article Display Ads --><br /><ins class="adsbygoogle" data-ad-client="ca-pub-6753262254014660" data-ad-slot="9445070986" style="display: inline-block; height: 410px; width: 640px;"></ins><br /><script>     (adsbygoogle = window.adsbygoogle || []).push({}); </script><br /><!-- Post Ad --><br /><span style="font-size: large;">I hope you got some understanding. If you like it, please share it and don't forget to leave your feedback below, which helps me improve.</span></div><span style="font-size: large;"><br /></span> <br /><div style="text-align: justify;"><span style="font-size: large;">If you have further queries please ask me in the comment box below. I will get back to you with an appropriate solution.&nbsp;</span></div></div><div class="blogger-post-footer">kishore
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-6753262254014660"
     data-ad-slot="4346718206"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div>