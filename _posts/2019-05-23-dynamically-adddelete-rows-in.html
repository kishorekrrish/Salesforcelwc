---
layout: post
title: Dynamically Add/Delete Rows in Salesforce Lightning
date: '2019-05-23T08:00:00.000-07:00'
author: Kishore Bandanadam
tags:
- Apex
- Lightning
modified_time: '2019-11-01T12:03:41.763-07:00'
thumbnail: https://1.bp.blogspot.com/-wouQJtEkGbo/XOe1vcp1MkI/AAAAAAAAAUk/vg0Ste6I8AMcVWzcawwIglV9uPYLtDEqQCLcBGAs/s72-c/Add_Remove%2Bstudio.png
blogger_id: tag:blogger.com,1999:blog-1420289748500157217.post-8135803276467936636
blogger_orig_url: https://www.salesforcelwc.in/2019/05/dynamically-adddelete-rows-in.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><div style="text-align: left;"><span style="color: #3d85c6;"><a href="https://www.salesforcelwc.in/2019/05/dynamically-adddelete-rows-in.html" rel="">Dynamically Add/Delete Rows in Salesforce Lightning</a></span></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-wouQJtEkGbo/XOe1vcp1MkI/AAAAAAAAAUk/vg0Ste6I8AMcVWzcawwIglV9uPYLtDEqQCLcBGAs/s1600/Add_Remove%2Bstudio.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img alt="Dynamically Add/Delete Rows in Salesforce Lightning" border="0" data-original-height="410" data-original-width="640" src="https://1.bp.blogspot.com/-wouQJtEkGbo/XOe1vcp1MkI/AAAAAAAAAUk/vg0Ste6I8AMcVWzcawwIglV9uPYLtDEqQCLcBGAs/s1600/Add_Remove%2Bstudio.png" title="Dynamically Add/Delete Rows in Salesforce Lightning" /></a></div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"></div><br /><h2 style="text-align: left;"><span style="color: #0b5394;"><a href="https://www.salesforcelwc.in/2019/05/dynamically-adddelete-rows-in.html" rel="">Add/Delete Rows | Salesforce Lightning</a></span></h2><h2 style="text-align: left;"><span style="color: #0b5394;">What!</span></h2><span style="font-size: large;"><span class="firstcharacter">D</span>ynamically Add/Delete Rows is a component in which we can add and delete rows dynamically on the user interface by simple clicks. It can be used where multiple rows are to be added in a list or to be deleted as per the requirement without hard coding the number of rows in the code.</span><br /><span style="font-size: large;"></span><br /><a name='more'></a><br /><!-- Post Ad --><br /><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><br /><!-- Common Display Ad --><br /><ins class="adsbygoogle"      style="display:block"      data-ad-client="ca-pub-6753262254014660"      data-ad-slot="8811166651"      data-ad-format="auto"      data-full-width-responsive="true"></ins><br /><script>     (adsbygoogle = window.adsbygoogle || []).push({}); </script><br /><!-- Post Ad --><br /><br /><iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" frameborder="0" height="315" src="https://www.youtube.com/embed/Wm98VvVSKDA" width="560"></iframe><br /><br /><h2 style="text-align: left;"><span style="color: #0b5394;">Why!</span></h2><span style="font-size: large;">Salesforce has provided standard <a href="https://developer.salesforce.com/docs/component-library/bundle/lightning:datatable/example" rel="nofollow" target="_blank"><b>lightning:datatable</b> </a>why can't we use this. You can use the standard data table as well but real challenge comes when the data comprises of fields like look up and pick list.</span><br /><!-- Post Ad --><br /><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><br /><!-- In Article Display Ads --><br /><ins class="adsbygoogle" data-ad-client="ca-pub-6753262254014660" data-ad-slot="9445070986" style="display: inline-block; height: 410px; width: 640px;"></ins><br /><script>     (adsbygoogle = window.adsbygoogle || []).push({}); </script><br /><!-- Post Ad --><br /><h2 style="text-align: left;"><span style="color: #0b5394;">How!</span></h2><span style="font-size: large;">For building this component we are going to create following components and controllers.</span><br /><br /><ul style="text-align: left;"><li><span style="font-size: large;">DynamicRows (Child)</span></li><li><span style="font-size: large;">DynamicRowsParent (Parent)</span></li><li><span style="font-size: large;">dynamicRowsController (Apex Controller)</span></li></ul><br /><span style="font-size: large;"><br /></span> <br /><div class="separator" style="clear: both; text-align: center;"><a href="https://2.bp.blogspot.com/-lIJq0b_8IW4/XOZeo82nuSI/AAAAAAAAATE/PlxPOFpiJHs-VgDilcJ1l7ws_SEBervRACLcBGAs/s1600/Untitled.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img alt="Dynamically Add/Delete Rows in Salesforce Lightning" border="0" data-original-height="298" data-original-width="552" src="https://2.bp.blogspot.com/-lIJq0b_8IW4/XOZeo82nuSI/AAAAAAAAATE/PlxPOFpiJHs-VgDilcJ1l7ws_SEBervRACLcBGAs/s1600/Untitled.png" title="Dynamically Add/Delete Rows in Salesforce Lightning" /></a></div><span style="font-size: large;"><br /></span> <span style="font-size: large;"><br /></span> <span style="font-size: large;">This is just a simple example, customize it more as per your requirement.</span><br /><br /><blockquote class="tr_bq" style="text-align: left;"><span style="color: #0b5394;"><span style="font-size: large;">Styling:&nbsp;</span></span><span style="font-size: large;">I have used<b><a href="https://developer.salesforce.com/docs/component-library/bundle/lightning:layout/example" rel="nofollow" target="_blank"> lightning:layout</a></b> and <b><a href="https://developer.salesforce.com/docs/component-library/bundle/lightning:layoutItem/example" rel="nofollow" target="_blank">lightning:layoutItem</a></b> in a card. You can find these components in <b><a href="https://developer.salesforce.com/docs/component-library/overview/components" rel="nofollow" target="_blank">Lightning Component library</a></b>.</span><span style="font-size: large;">you can use any of the styling as per your convenience.</span></blockquote><br /><br /><h2 style="text-align: left;"><span style="color: #0b5394;">How two way binding makes our task simpler:</span></h2><a href="https://developer.salesforce.com/docs/component-library/documentation/lwc/lwc.migrate_data_binding" rel="nofollow" target="_blank"><span style="font-size: large;">Lightning Aura components supports two types of data binding</span></a><br /><span style="font-size: large;"><br /></span> <span style="font-size: large;"><b><span style="color: #3d85c6;">{#expression} (Unbound Expression)&nbsp;</span></b>Data updates behave as you would expect in JavaScript. Primitives, such as String, are passed by value, and data updates for the expression in the parent and child are decoupled.Objects, such as Array or Map, are passed by reference, so changes to the data in the child propagate to the parent. However, change handlers in the parent arenâ€™t notified. The same behavior applies for changes in the parent propagating to the child.</span><br /><span style="font-size: large;"><br /></span> <br /><div><span style="color: #3d85c6; font-size: large;"><b>{!expression} (Bound Expression)&nbsp;</b></span><span style="font-size: large;">Data updates in either component are reflected through bidirectional data binding in both components. Similarly, change handlers are triggered in both the parent and child components.</span><br /><span style="font-size: large;"><br /></span> <span style="font-size: large;">As we have used bound expression in our parent component, The attribute <i><b><span style="color: #a64d79;">records </span></b></i>can be changed by the child component as well, which reduces our work of not using component events in order to get data entered in child. If you are not familiar about communication of components through event please get some knowledge about events.</span><br /><span style="font-size: large;"><br /></span> <br /><blockquote class="tr_bq"><span style="font-size: large;"><b><i>Note</i></b>: If you are trying to implement the same using<b> Lightning Web Components</b> be ware that&nbsp; <b>LWC</b> only supports one way binding.&nbsp; If you experienced something like this please write in the comments below so that we can discuss.</span></blockquote><!-- Post Ad --><br /><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><br /><!-- In Article Display Ads --><br /><ins class="adsbygoogle" data-ad-client="ca-pub-6753262254014660" data-ad-slot="9445070986" style="display: inline-block; height: 410px; width: 640px;"></ins><br /><script>     (adsbygoogle = window.adsbygoogle || []).push({}); </script><br /><!-- Post Ad --><br /><span style="font-size: large;"><br /></span> <br /><h2 style="text-align: left;"><span style="color: #0b5394; font-size: large;">array.splice()</span></h2><span style="font-size: large;"><b><i>splice()</i></b> is a Javascript method which<span style="background-color: white; font-family: &quot;verdana&quot; , sans-serif;">&nbsp;</span>adds/removes items to/from an array, and returns the removed item(s).</span><br /><span style="font-size: large;"><br /></span> <br /><h3 style="text-align: left;"><span style="font-size: large;">syntax:&nbsp;<i><b>array.splice(index, count, item1, ....., itemX)</b></i></span></h3><br /><div class="post-table"><table><thead><tr>         <th><span style="color: #0b5394; font-size: large;">Parameters</span></th>         <th><span style="color: #0b5394; font-size: large;">Description</span></th>        </tr></thead>       <tbody><tr>         <td data-label="Parameter"><span style="font-size: large;">index</span></td>         <td data-label="Description"><span style="font-size: large;">Required. An integer that specifies at what position to add/remove items, Use negative values to specify the position from the end of the array</span></td>   </tr><tr>         <td data-label="Parameter"><span style="font-size: large;">count</span></td>         <td data-label="Description"><span style="font-size: large;">Optional. The number of items to be removed. If set to 0, no items will be removed</span></td>  </tr><tr>         <td data-label="Parameter"><span style="font-size: large;">item1, ..., itemX</span></td>         <td data-label="Description"><span style="font-size: large;">Optional. The new item(s) to be added to the array</span></td>  </tr></tbody> </table></div><br /><!--PostAd--><br /><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><br /><!-- In Post --><br /><ins class="adsbygoogle" data-ad-client="ca-pub-6753262254014660" data-ad-format="auto" data-ad-slot="8484998091" data-full-width-responsive="true" style="display: block;"></ins><br /><script>     (adsbygoogle = window.adsbygoogle || []).push({}); </script><br /><!--PostAd--><br /><h2 style="text-align: left;"><span style="color: #0b5394;">DynamicRows.cmp</span></h2><pre class="lang-markup"><code>&lt;aura:component implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,force:lightningQuickAction" access="global" &gt;<br />    <br />    &lt;aura:attribute name="record" type="Object" default="{<br />                                                         'sobjectType' : 'Account',<br />                                                         'Name' : '',<br />                                                         'Industry' : '' }"/&gt;<br />    <br /><br />        &lt;lightning:layoutItem size="4" padding="around-small"&gt;<br />            &lt;lightning:input label="name" value="{!v.record.Name}" variant="label-hidden"/&gt;<br />        &lt;/lightning:layoutItem&gt;<br />        &lt;lightning:layoutItem size="4" padding="around-small"&gt;<br />            &lt;lightning:input label="Industry" value="{!v.record.Industry}" variant="label-hidden"/&gt;<br />        &lt;/lightning:layoutItem&gt;<br />    <br />&lt;/aura:component&gt;<br /></code></pre><br /><h2 style="text-align: left;"><span style="color: #0b5394;">DynamicRowsParent.cmp</span></h2><div><pre class="lang-markup"><code>&lt;aura:component controller="dynamicRowsController" implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,force:lightningQuickAction" access="global" &gt;<br />    <br />    &lt;aura:attribute name="records" type="Object[]"/&gt;<br />    &lt;aura:attribute name="rows" type="Integer"/&gt;<br />    &lt;aura:attribute name="visible" type="Boolean" default="false"/&gt;<br />    <br />    <br />    &lt;aura:handler name="init" value="{!this}" action="{!c.doinit}"/&gt;<br />    <br />    &lt;lightning:card title="Add/Delete Rows Dynamically"&gt;<br />        &lt;aura:set attribute="actions"&gt;<br />            &lt;a onclick="{!c.add}"&gt;<br />                &lt;lightning:icon iconName="utility:add" alternativeText="add"/&gt;<br />            &lt;/a&gt;<br />        &lt;/aura:set&gt;<br />        &lt;table class="slds-table slds-table_cell-buffer slds-table_bordered"&gt;<br />            &lt;thead&gt;<br />                &lt;tr class="slds-line-height_reset"&gt;<br />                    &lt;lightning:layout&gt;<br />                        &lt;lightning:layoutItem  flexibility="auto, no-grow"&gt;<br />                            &lt;th class="" scope="col"&gt;<br />                                &lt;div class="slds-truncate" title="Sno"&gt;S.No&lt;/div&gt;<br />                            &lt;/th&gt;<br />                        &lt;/lightning:layoutItem&gt;<br />                        &lt;lightning:layoutItem size="4" &gt;<br />                            &lt;th class="" scope="col"&gt;<br />                                &lt;div class="slds-truncate" title="Opportunity Name"&gt;Name&lt;/div&gt;<br />                            &lt;/th&gt;<br />                        &lt;/lightning:layoutItem&gt; <br />                        &lt;lightning:layoutItem size="4" &gt;<br />                            &lt;th class="" scope="col"&gt;<br />                                &lt;div class="slds-truncate" title="Opportunity Name"&gt;Industry&lt;/div&gt;<br />                            &lt;/th&gt;<br />                        &lt;/lightning:layoutItem&gt; <br />                        &lt;lightning:layoutItem size="4" &gt;<br />                            &lt;th class="" scope="col"&gt;<br />                                &lt;div class="slds-truncate" title="Opportunity Name"&gt;Action&lt;/div&gt;<br />                            &lt;/th&gt;<br />                        &lt;/lightning:layoutItem&gt; <br />                    &lt;/lightning:layout&gt;<br />                &lt;/tr&gt;<br />            &lt;/thead&gt;<br />        &lt;/table&gt;<br />        <br />        &lt;aura:iteration items="{!v.records}" var="rec" indexVar="index"&gt;<br />            <br />            &lt;lightning:layout&gt;<br />                &lt;lightning:layoutItem  padding="around-small" flexibility="auto, no-grow"&gt;<br />                    &lt;div class="slds-text-heading_small slds-text-align_center"&gt;{!index + 1}.&lt;/div&gt;<br />                &lt;/lightning:layoutItem&gt;<br />                &lt;c:dynamicRows record="{!rec}"/&gt;<br />                &lt;lightning:layoutItem size="4" padding="around-small"&gt;<br />                    &lt;a name="{!index}" onclick="{!c.remove}"&gt;<br />                        &lt;lightning:icon iconName="utility:delete" alternativeText="delete"/&gt;<br />                    &lt;/a&gt;<br />                &lt;/lightning:layoutItem&gt;<br />            &lt;/lightning:layout&gt;<br />        &lt;/aura:iteration&gt;<br />       <br />        &lt;div class="slds-grid slds-grid_reverse"&gt;<br />            &lt;div class="slds-col slds-size_4-of-12 "&gt;<br />                &lt;aura:if isTrue="{!v.visible}"&gt;<br />                    &lt;div class="slds-p-top_small"&gt;<br />                        Saved {!v.rows} records...<br />                    &lt;/div&gt;<br />                &lt;/aura:if&gt;<br />            &lt;/div&gt;<br />            &lt;div class="slds-col slds-size_2-of-12"&gt;<br />             &lt;lightning:button label="Save" onclick="{!c.save}" variant="brand"/&gt;<br />            &lt;/div&gt;<br />        &lt;/div&gt;<br />        <br />    &lt;/lightning:card&gt;<br />&lt;/aura:component&gt;<br /></code></pre><br /><!-- Post Ad --><br /><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><br /><!-- In Article Display Ads --><br /><ins class="adsbygoogle" data-ad-client="ca-pub-6753262254014660" data-ad-slot="9445070986" style="display: inline-block; height: 410px; width: 640px;"></ins><br /><script>     (adsbygoogle = window.adsbygoogle || []).push({}); </script><br /><!-- Post Ad --><br /><h2 style="text-align: left;"><span style="color: #0b5394;">DynamicRowsParent.js</span></h2><pre class="lang-js"><code><br />({<br />    doinit : function(component, event, helper) {<br />        console.log("In dynamic init");<br />        <br />        var initRec = {'sobjectType' : 'Account','Name' : '','Industry' : '' };<br />        component.set("v.records", initRec);<br />    },<br />    <br />    add : function(component, event, helper) {<br />        var addRec = {'sobjectType' : 'Account','Name' : '','Industry' : '' };<br />        var existingRecords = component.get("v.records");<br />        existingRecords.push(addRec);<br />        component.set("v.records", existingRecords);<br />    },<br />    <br />    remove : function(component, event, helper) {<br />        <br />        var indexPosition = event.target.name;<br />        var existingRecords = component.get("v.records");<br />        console.log("indexPosition",indexPosition);<br />        existingRecords.splice(indexPosition, 1);<br />        component.set("v.records", existingRecords);<br />        //splice(indexPosition, howmany, item1, ....., itemX)<br />    },<br />    <br />    save : function(component, event, helper) {<br />        <br />        var existingRecords = component.get("v.records");<br />        var validRecords = [];<br />        <br />        for(var i = 0; i &lt; existingRecords.length; i++) {<br />            if(existingRecords[i].Name != "") {<br />                validRecords.push(existingRecords[i]);<br />            }<br />        }<br />        component.set("v.records", validRecords);<br />        component.set("v.rows", validRecords.length);<br />        <br />        <br />        console.log("validRecords", JSON.stringify(validRecords));<br />        console.log("valid Records length", validRecords.length);<br />        <br />        var action = component.get("c.saveaccs");<br />        action.setParams({<br />            'inprec' : validRecords<br />        });<br />        <br />        action.setCallback(this, function(response){<br />           var state = response.getState();<br />            if(state === 'SUCCESS' || state === 'DRAFT'){<br />                var toastEvent = $A.get("e.force:showToast");<br />                toastEvent.setParams({<br />                    title : 'Message',<br />                    message: 'Records saved successfully',<br />                    duration:' 3000',<br />                    key: 'info_alt',<br />                    type: 'success',<br />                    mode: 'pester'<br />                });<br />                toastEvent.fire();<br />                component.set("v.visible", true);<br />                window.setTimeout(<br />                    $A.getCallback(function() {<br />                        component.set("v.visible", false);<br />                    }), 3000);<br />                <br />            }<br />            else if(state === 'ERROR' || state === 'WARNING'){<br />                var toastEvent = $A.get("e.force:showToast");<br />                toastEvent.setParams({<br />                    title : 'Message',<br />                    message: 'No Records saved successfully',<br />                    duration:' 3000',<br />                    key: 'info_alt',<br />                    type: 'error',<br />                    mode: 'pester'<br />                });<br />                toastEvent.fire();<br />            }<br />        });<br />        $A.enqueueAction(action);<br />        <br />    }<br />    <br />})<br /></code><br /></pre><br /><h2 style="text-align: left;"><span style="color: #0b5394;">DynamicRowsController.apxc</span></h2><pre class="lang-js"><code><br />public with sharing class dynamicRowsController {<br />    <br />    @AuraEnabled<br />    public static void saveaccs(List<sobject> inprec){<br />        if(inprec.size()&gt;0 &amp;&amp; inprec != null){<br />            list<account> inputrec =  inprec;<br />            insert inputrec;<br />        }<br />    }<br />    <br />}<br /></account></sobject></code><br /></pre></div></div><br /><span style="font-size: large;">If you think there are better ways doing this, please write it in the comments below.</span><br /><br /><br /><h2 style="text-align: left;">Also Read:</h2><a href="https://www.salesforcelwc.in/2019/05/editable-list-with-files-and-notify.html"></a><br /><ul style="text-align: left;"><a href="https://www.salesforcelwc.in/2019/05/editable-list-with-files-and-notify.html"></a><li><a href="https://www.salesforcelwc.in/2019/05/editable-list-with-files-and-notify.html"></a><a href="https://www.salesforcelwc.in/2019/05/editable-list-with-files-and-notify.html"><span style="font-size: large;">Editable List with files and notify option in Salesforce Lightning (Aura)</span></a></li><li><a href="https://www.salesforcelwc.in/2019/04/create-custom-component-to-send-email.html"><span style="font-size: large;">Create a Custom Component to Send an Email in Salesforce Lightning</span></a></li><li><a href="https://www.salesforcelwc.in/2019/05/custom-lookup-component-in-salesforce.html"><span style="font-size: large;">Custom Lookup Component in Salesforce Lightning - Updated</span></a></li></ul><br /><br /><div class="canva-embed" data-design-id="DADlkpelUe0" data-height-ratio="1.0000" style="background: rgba(0 , 0 , 0 , 0.03); border-radius: 8px; padding: 100.0000% 5px 5px 5px;"></div><script async="" src="https://sdk.canva.com/v1/embed.js"></script><br /><br /><div><div><span style="color: #6aa84f; font-size: large;">One Small help:</span><br /><span style="color: #6aa84f; font-size: large;"><br /></span></div><span style="font-size: large;">If you enjoyed this blog post, share it with your group!</span></div><div><span style="font-size: large;"><br /></span></div><span style="font-size: large;">Do subscribe, for getting latest updates directly in your inbox.</span><br /><!-- Post Ad --><br /><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><br /><!-- Common Display Ad --><br /><ins class="adsbygoogle"      style="display:block"      data-ad-client="ca-pub-6753262254014660"      data-ad-slot="8811166651"      data-ad-format="auto"      data-full-width-responsive="true"></ins><br /><script>     (adsbygoogle = window.adsbygoogle || []).push({}); </script><br /><!-- Post Ad --></div><div class="blogger-post-footer">kishore
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-6753262254014660"
     data-ad-slot="4346718206"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div>