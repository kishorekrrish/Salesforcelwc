---
layout: post
title: Fully Featured Custom Lookup Component using Lightning Web Components in Salesforce
  CRM
date: '2019-10-04T23:42:00.001-07:00'
author: Kishore Bandanadam
tags:
- JavaScript
- crm software
- Lightning Web Components
- Salesforce crm system
modified_time: '2019-11-01T11:49:56.192-07:00'
thumbnail: https://1.bp.blogspot.com/-9kBBHKvSMD4/XZg2K5ywjfI/AAAAAAAAAd4/kbNP9O_N-p04T_sm3tQFq-A5iRuf0TlogCLcBGAsYHQ/s72-c/custom-look-up-compressor.png
blogger_id: tag:blogger.com,1999:blog-1420289748500157217.post-2196741977693955531
blogger_orig_url: https://www.salesforcelwc.in/2019/10/lookup-in-lwc.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><div dir="ltr" style="text-align: left;" trbidi="on"><div dir="ltr" style="text-align: left;" trbidi="on"><div dir="ltr" trbidi="on"><div dir="ltr" style="text-align: left;" trbidi="on"><div dir="ltr" style="text-align: left;" trbidi="on"><div dir="ltr" style="text-align: left;" trbidi="on"><div dir="ltr" trbidi="on"><br /><!-- Go to www.addthis.com/dashboard to customize your tools --><br /><div class="addthis_inline_share_toolbox_4zh3"></div><!-- Go to www.addthis.com/dashboard to customize your tools --><br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-9kBBHKvSMD4/XZg2K5ywjfI/AAAAAAAAAd4/kbNP9O_N-p04T_sm3tQFq-A5iRuf0TlogCLcBGAsYHQ/s1600/custom-look-up-compressor.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img alt="Fully Featured Custom Look-Up Component using Salesforce Lightning Web Components" border="0" data-original-height="410" data-original-width="640" src="https://1.bp.blogspot.com/-9kBBHKvSMD4/XZg2K5ywjfI/AAAAAAAAAd4/kbNP9O_N-p04T_sm3tQFq-A5iRuf0TlogCLcBGAsYHQ/s1600/custom-look-up-compressor.png" title="Fully Featured Custom Look-Up Component using Salesforce Lightning Web Components" /></a></div><span style="font-size: large;"><br /></span> <br /><h3 style="text-align: left;"><a href="https://www.salesforcelwc.in/2019/10/lookup-in-lwc.html">Fully Featured Custom Look-Up Component using Salesforce Lightning Web Components</a></h3><span style="font-size: large;"><br /></span> <span style="font-size: large;">Hi guys, today we are going to create a custom look-up component using Lightning Web Components. Lightning Web Components is a new framework created by Salesforce, a&nbsp;</span><span style="font-size: large;">customer relationship management software.</span><span style="font-size: large;">&nbsp;We can leverage modern and standard features. As LWC is new and not completely mature everything is not available out of the box, we need to build some things on our own to meet the requirements.&nbsp;</span><br /><span style="font-size: large;"></span><br /><a name='more'></a><span style="font-size: large;"><a href="https://www.salesforcelwc.in/2019/05/create-your-first-lightning-web.html">Create your first Lightning Web Component</a></span><br /><span style="font-size: large;"><br /></span> <span style="font-size: large;">Look-up Component is one of that. As a Salesforce crm developer, we are well aware that there is no base component provided by salesforce either in AURA or LWC. So, in this article, you will understand how to create a Custom Lookup component that can be reused for any object in Salesforce crm.</span><br /><!-- Post Ad --><br /><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><br /><!-- In Article Display Ads --><br /><ins class="adsbygoogle" data-ad-client="ca-pub-6753262254014660" data-ad-slot="9445070986" style="display: inline-block; height: 410px; width: 640px;"></ins><br /><script>     (adsbygoogle = window.adsbygoogle || []).push({}); </script><br /><!-- Post Ad --><br /><span style="font-size: large;">We are going to leverage Wire Service in building this component. </span><a href="https://www.salesforcelwc.in/2019/06/get-data-in-lwc.html" style="font-size: x-large;">know more about wire service</a><br /><span style="font-size: large;"><br /></span> <span style="font-size: large;">you can check out <a href="https://www.salesforcelwc.in/2019/05/custom-lookup-component-in-salesforce.html">Custom Lookup component using AURA</a></span><br /><br /><h2 style="text-align: left;">Final Outcome would be</h2><ol style="text-align: left;"><li><span style="font-size: large;">Fully Dynamic component</span></li><li><span style="font-size: large;">Has an option to enable create record button&nbsp;</span></li><li><span style="font-size: large;">Can create a new record from look-up directly if create record option is enabled</span></li><li><span style="font-size: large;">In-line, Block and none label variants available</span></li><li><span style="font-size: large;">Record-Type aware</span></li><li><span style="font-size: large;">Custom Filter available</span></li></ol><h2 style="text-align: left;">Usage</h2><div><pre class="language-markup" width="100%"><code><br />&lt;c-lookup-lwc   <br /> unique-key={item.Id} <br /> value-id={item.JobType__c} <br /> obj-name="JobType__c" <br /> icon-name="custom:custom85" <br /> label-name="JobType" <br /> onvalueselect={handleSelection}<br /> create-record=true&gt;<br />&lt;/c-lookup-lwc&gt;<br /></code></pre></div></div></div></div></div><br /><div><!-- Post Ad --><br /><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><br /><!-- In Article Display Ads --><br /><ins class="adsbygoogle" data-ad-client="ca-pub-6753262254014660" data-ad-slot="9445070986" style="display: inline-block; height: 410px; width: 640px;"></ins><br /><script>     (adsbygoogle = window.adsbygoogle || []).push({}); </script><br /><!-- Post Ad --><br /></div><div><span style="font-size: large;">Creating a record from the lookup component is something that you have seen in standard record detail pages in Salesforce crm. It's no big deal and can be achieved easily, we just have to make sure whether Record Types are available for that particular object and handle it. We can get the record types available for an object using "<b>uiObjectInfoApi</b></span><span style="font-size: large;">"</span></div><div dir="ltr" trbidi="on"><br /></div><pre class="language-javascript" width="100%"><code><br />@wire(getObjectInfo, { objectApiName: '$objName' })<br /></code></pre><br /><br /><div dir="ltr" trbidi="on"><br /></div><div dir="ltr" trbidi="on"><br /><div><iframe allow="autoplay; fullscreen" allowfullscreen="" frameborder="0" height="321" src="https://player.vimeo.com/video/359969607" width="640"></iframe><br /></div><br /><h3 style="text-align: left;">LookUp.html</h3><pre class="language-markup" width="100%"><code><br />&lt;template&gt;<br />    &lt;div&gt;<br />        &lt;div class="slds-form-element"&gt;<br />            &lt;div class="slds-form-element__control"&gt;<br />                &lt;div class="slds-combobox_container"&gt;<br />                    &lt;div id="box" class={boxClass} aria-expanded="true" aria-haspopup="listbox" role="combobox"&gt;<br />                        &lt;div class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right" role="none"&gt;<br />                            &lt;template if:true={isValue}&gt;<br />                                &lt;div id="lookup-pill" class="slds-pill-container"&gt;<br />                                    &lt;lightning-pill class="pillSize" label={valueObj} name={valueObj} onremove={handleRemovePill} href={href}&gt;<br />                                        &lt;lightning-icon icon-name={iconName} alternative-text="acc" &gt;&lt;/lightning-icon&gt;<br />                                    &lt;/lightning-pill&gt;<br />                                &lt;/div&gt;<br />                            &lt;/template&gt;<br />                            &lt;template if:false={isValue}&gt;<br />                                &lt;div class="slds-p-top_none"&gt;<br />                                    &lt;lightning-input class={inputClass} type="search" id="input" value={searchTerm}<br />                                        onclick={handleClick} onblur={inblur} onchange={onChange}<br />                                        variant="label-hidden" autocomplete="off" placeholder="Search..."&gt;<br />                                    &lt;/lightning-input&gt;<br />                                &lt;/div&gt;<br />                            &lt;/template&gt;<br />                        &lt;/div&gt;<br />                        &lt;div id="listbox-id-1" class="slds-dropdown slds-dropdown_length-with-icon-7 slds-dropdown_fluid" role="listbox"&gt;<br />                            &lt;ul class="slds-listbox slds-listbox_vertical" role="presentation"&gt;<br />                                &lt;template for:each={options} for:item="item"&gt;<br />                                    &lt;li key={item.Id} onclick={onSelect} data-id={item.Id} role="presentation"&gt;<br />                                        &lt;span class="slds-lookup__item-action slds-lookup__item-action--label" role="option"&gt;<br />                                            &lt;lightning-icon class="slds-icon slds-icon--small slds-icon-text-default" icon-name={iconName} alternative-text={objName} size="small"&gt;&lt;/lightning-icon&gt;<br />                                            &lt;span class="slds-truncate"&gt;{item.Name}&lt;/span&gt;<br />                                        &lt;/span&gt;<br />                                    &lt;/li&gt;<br />                                &lt;/template&gt;<br />                                &lt;template if:true={createRecord}&gt;<br />                                    &lt;li onclick={createRecordFunc} role="presentation"&gt;<br />                                        &lt;span class="slds-lookup__item-action slds-lookup__item-action--label" role="option"&gt;<br />                                            &lt;lightning-button-icon class="slds-icon slds-icon--small  slds-icon-text-default" variant="border-inverse, bare" icon-name="utility:add" size="small"&gt;&lt;/lightning-button-icon&gt;<br />                                            &lt;span class="slds-truncate"&gt;New {objLabelName}&lt;/span&gt;<br />                                        &lt;/span&gt;<br />                                    &lt;/li&gt;<br />                                &lt;/template&gt;<br />                            &lt;/ul&gt;<br />                        &lt;/div&gt;<br />                    &lt;/div&gt;<br />                &lt;/div&gt;<br />            &lt;/div&gt;<br />        &lt;/div&gt;<br />    &lt;/div&gt;<br /><br />    &lt;!-- create Record Component--&gt;<br />    &lt;template if:true={createRecordOpen}&gt;<br />       <br />        &lt;template if:true={recordTypeSelector}&gt;<br />            &lt;div &gt;<br />                &lt;section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open"&gt;<br />                    &lt;div class="slds-modal__container"&gt;<br />                        &lt;header class="slds-modal__header"&gt;<br />                            &lt;button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close"&gt;<br />                                &lt;lightning-button-icon icon-name="utility:close" variant="bare-inverse" size="large" onclick={closeModal}&gt;&lt;/lightning-button-icon&gt;<br />                                &lt;span class="slds-assistive-text"&gt;Close&lt;/span&gt;<br />                            &lt;/button&gt;<br />                            &lt;h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate"&gt;New {objLabelName}&lt;/h2&gt;<br />                        &lt;/header&gt;<br />                        &lt;div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1"&gt;<br />                            &lt;div class="slds-radio_faux slds-radio__label"&gt;<br />                            &lt;lightning-radio-group name="Record Type"<br />                                                  label="Record Type"<br />                                                  options={recordTypeOptions}<br />                                                  value={recordTypeId}<br />                                                  variant="label-inline"<br />                                                  type="radio"<br />                                                  onchange={handleRecTypeChange}&gt;<br />                            &lt;/lightning-radio-group&gt;<br />                            &lt;/div&gt;<br />                        &lt;/div&gt;<br />                        &lt;footer class="slds-modal__footer"&gt;<br />                            &lt;lightning-button label="Cancel" onclick={closeModal}&gt;&lt;/lightning-button&gt;<br />                            &lt;lightning-button label="Next" onclick={createRecordMain} variant="brand"&gt;&lt;/lightning-button&gt;<br />                        &lt;/footer&gt;<br />                    &lt;/div&gt;<br />                &lt;/section&gt;<br />                &lt;div class="slds-backdrop slds-backdrop_open"&gt;&lt;/div&gt;<br />            &lt;/div&gt;<br />        &lt;/template&gt;<br />        <br />        &lt;template if:true={mainRecord}&gt;<br />            &lt;div class="main"&gt;<br />                &lt;section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open slds-modal_medium" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1"&gt;<br />                    &lt;div class="slds-modal__container"&gt;<br />                        &lt;header class="slds-modal__header"&gt;<br />                            &lt;button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close"&gt;<br />                                &lt;lightning-button-icon icon-name="utility:close" variant="bare-inverse" size="large" onclick={closeModal}&gt;&lt;/lightning-button-icon&gt;<br />                                &lt;span class="slds-assistive-text"&gt;Close&lt;/span&gt;<br />                            &lt;/button&gt;<br />                            &lt;h2 id="modal-heading-02" class="slds-text-heading_medium slds-hyphenate"&gt;New {objLabelName}&lt;/h2&gt;<br />                        &lt;/header&gt;<br />                        &lt;div  class={myPadding}  id="modal-content-id-2"&gt;<br />                            <br />                                &lt;div id="stencil" class={stencilClass}&gt;<br />                                    &lt;c-stencil-lwc double={double} columns={cols} opacities={opacs}&gt;&lt;/c-stencil-lwc&gt;<br />                                &lt;/div&gt;<br />                        <br />                                &lt;div id="stencilReplacement"  class={stencilReplacement}&gt;<br />                                    &lt;lightning-record-form class="recordForm"<br />                                                          object-api-name={objName}<br />                                                          record-type-id={recordTypeId}<br />                                                          layout-type="Compact"<br />                                                          columns="2"<br />                                                          onload={handleLoad}<br />                                                          density="comfy"<br />                                                          onerror={handleError}<br />                                                          onsuccess={handleSuccess}&gt;<br />         &lt;/lightning-record-form&gt;       <br />                                &lt;/div&gt;                                                     <br />                        &lt;/div&gt;<br />                        &lt;footer class="slds-modal__footer"&gt;<br />                            &lt;!--lightning-button class="slds-p-right_small" label="Save" onclick={handleSubmit} variant="brand"&gt;&lt;/lightning-button&gt;<br />                            &lt;lightning-button label="Cancel" onclick={closeModal}&gt;&lt;/lightning-button&gt;--&gt;<br />                        &lt;/footer&gt;<br />                    &lt;/div&gt;<br />                &lt;/section&gt;<br />                &lt;div class="slds-backdrop slds-backdrop_open"&gt;&lt;/div&gt;<br />            &lt;/div&gt;<br />        &lt;/template&gt;<br />    &lt;/template&gt;<br />&lt;/template&gt;<br /></code></pre></div><h3 style="text-align: left;"><br /></h3><div><span style="font-size: large;">In the Javascript controller, we are using a lot of standard and custom events. <a href="https://www.salesforcelwc.in/2019/05/events-in-lightning-web-components.html">Learn more about Events in Lightning Web Components</a></span></div><div dir="ltr" trbidi="on"><br /></div><!-- Post Ad --><br /><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><br /><!-- In Article Display Ads --><br /><ins class="adsbygoogle" data-ad-client="ca-pub-6753262254014660" data-ad-slot="9445070986" style="display: inline-block; height: 410px; width: 640px;"></ins><br /><script>     (adsbygoogle = window.adsbygoogle || []).push({}); </script><br /><!-- Post Ad --><br /><h3 style="text-align: left;">LookUp.js</h3><pre class="language-javascript" width="100%"><code><br />/* eslint-disable no-console */<br />/* eslint-disable @lwc/lwc/no-async-operation */<br /><br />import lookUp from '@salesforce/apex/LookupController.lookUp';<br />import { ShowToastEvent } from 'lightning/platformShowToastEvent';<br />import { getObjectInfo } from 'lightning/uiObjectInfoApi';<br />import { getRecord } from 'lightning/uiRecordApi';<br />import { api, LightningElement, track, wire } from 'lwc';<br /><br />let FIELDS = ['JobType__c.Name'];<br /><br />export default class LookupLwc extends LightningElement {<br /><br />    @api valueId;<br />    @api objName;<br />    @api iconName;<br />    @api labelName;<br />    @api readOnly = false;<br />    @api filter = '';<br />    @api showLabel = false;<br />    @api uniqueKey;<br />    objLabelName;<br /><br />    /*Create Record Start*/<br />    @api createRecord;<br />    @track recordTypeOptions;<br />    @track createRecordOpen;<br />    @track recordTypeSelector;<br />    @track mainRecord;<br />    @track isLoaded = false;<br /><br />    //stencil<br />    @track cols = [1,2];<br />    @track opacs = ['opacity: 1', 'opacity: 0.9', 'opacity: 0.8', 'opacity: 0.7', 'opacity: 0.6', 'opacity: 0.5', 'opacity: 0.4', 'opacity: 0.3', 'opacity: 0.2', 'opacity: 0.1'];<br />    @track double = true;<br /><br />    //For Stencil<br />    @track stencilClass = '';<br />    @track stencilReplacement = 'slds-hide';  <br />    //css<br />    @track myPadding = 'slds-modal__content';<br />    /*Create Record End*/<br /><br />    searchTerm;<br />    @track valueObj;<br />    href;<br />    @track options; //lookup values<br />    @track isValue;<br />    @track blurTimeout;<br /><br />    blurTimeout;<br /><br />    //css<br />    @track boxClass = 'slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click slds-has-focus';<br />    @track inputClass = '';<br /><br />    connectedCallback() {<br />        <br />        console.log("objName", this.objName);<br />       // FIELDS.push(this.objName+'.Name');<br />        console.log("FIELDS", FIELDS);<br />    }<br />    renderedCallback() {<br />        if(this.objName) {<br />            let temp = this.objName;<br />            if(temp.includes('__c')){<br />                let newObjName = temp.replace(/__c/g,"");<br />                if(newObjName.includes('_')) {<br />                    let vNewObjName = newObjName.replace(/_/g," ");<br />                    this.objLabelName = vNewObjName;<br />                }else {<br />                    this.objLabelName = newObjName;<br />                }<br />                <br />            }else {<br />                this.objLabelName = this.objName;<br />            }<br />        }<br /><br />        console.log("In rendered", this.objName);<br />    }<br /><br />    //Used for creating Record Start<br />    @wire(getObjectInfo, { objectApiName: '$objName' })<br />    wiredObjectInfo({ error, data }) {<br />        if (data) {<br />            this.record = data;<br />            this.error = undefined;<br /><br />            let recordTypeInfos = Object.entries(this.record.recordTypeInfos);<br />            console.log("ObjectInfo length", recordTypeInfos.length);<br />            if (recordTypeInfos.length &gt; 1) {<br />                let temp = [];<br />                recordTypeInfos.forEach(([key, value]) =&gt; {<br />                    console.log(key);<br />                    if (value.available === true &amp;&amp; value.master !== true) {<br />                        console.log("Inside ifff",JSON.stringify(key,value));<br />                        <br />                        temp.push({"label" : value.name, "value" : value.recordTypeId});<br />                    }<br />                });<br />                this.recordTypeOptions = temp;<br />                console.log("recordTypeOptions", this.recordTypeOptions);<br />            } else {<br />                this.recordTypeId = this.record.defaultRecordTypeId;<br />            }<br /><br />            console.log("this.recordTypeOptions", JSON.stringify(this.recordTypeOptions));<br />        } else if (error) {<br />            this.error = error;<br />            this.record = undefined;<br />            console.log("this.error", this.error);<br />        }<br />    }<br />    //Used for creating Record End<br /><br />    @wire(lookUp, {searchTerm : '$searchTerm', myObject : '$objName', filter : '$filter'})<br />    wiredRecords({ error, data }) {<br />        if (data) {<br />            this.record = data;<br />            this.error = undefined;<br />            this.options = this.record;<br />            console.log("common this.options", JSON.stringify(this.options));<br />        } else if (error) {<br />            this.error = error;<br />            this.record = undefined;<br />            console.log("wire.error",this.error);<br />        }<br />    }<br /><br />    //To get preselected or selected record<br />    @wire(getRecord, { recordId: '$valueId', fields: FIELDS })<br />    wiredOptions({ error, data }) {<br />        if (data) {<br />            this.record = data;<br />            this.error = undefined;<br />            this.valueObj = this.record.fields.Name.value;<br />            this.href = '/'+this.record.id;<br />            this.isValue = true;<br />            console.log("this.href", this.href);<br />            console.log("this.record", JSON.stringify(this.record));<br />        } else if (error) {<br />            this.error = error;<br />            this.record = undefined;<br />            console.log("this.error", this.error);<br />        }<br />    }<br /><br />    //when valueId changes<br />    valueChange() {<br />        console.log("In valueChange");<br />    }<br /><br />    handleClick() {<br />        console.log("In handleClick");<br /><br />        this.searchTerm = '';<br />        this.inputClass = 'slds-has-focus';<br />        this.boxClass = 'slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click slds-has-focus slds-is-open';<br />        //let combobox = this.template.querySelector('#box');<br />        //combobox.classList.add("slds-is-open"); <br />    }<br /><br />    inblur() {<br />        console.log("In inblur");<br />        // eslint-disable-next-line @lwc/lwc/no-async-operation<br />        this.blurTimeout = setTimeout(() =&gt;  {this.boxClass = 'slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click slds-has-focus'}, 300);<br />    }<br /><br />    onSelect(event) {<br />        console.log("In onSelect");<br />        let ele = event.currentTarget;<br />        let selectedId = ele.dataset.id;<br />        console.log("selectedId", selectedId);<br />        //As a best practise sending selected value to parent and inreturn parent sends the value to @api valueId<br />        let key = this.uniqueKey;<br />        const valueSelectedEvent = new CustomEvent('valueselect', {<br />            detail: { selectedId, key },<br />        });<br />        this.dispatchEvent(valueSelectedEvent);<br /><br />        if(this.blurTimeout) {<br />            clearTimeout(this.blurTimeout);<br />        }<br />        this.boxClass = 'slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click slds-has-focus';<br />    }<br /><br />    onChange(event) {<br />        console.log("In onChange");<br />        this.searchTerm = event.target.value;<br />        console.log("searchTerm",this.searchTerm);<br />    }<br /><br />    handleRemovePill() {<br />        console.log("In handleRemovePill");<br />        this.isValue = false;<br />        let selectedId = '';<br />        let key = this.uniqueKey;<br />        const valueSelectedEvent = new CustomEvent('valueselect', {<br />            detail: { selectedId, key },<br />        });<br />        this.dispatchEvent(valueSelectedEvent);<br />    }<br /><br />    createRecordFunc() {<br />        if (this.recordTypeOptions) {<br />            this.recordTypeSelector = true;<br />        }else {<br />            this.recordTypeSelector = false;<br />            this.mainRecord = true;<br />            //stencil before getting data<br />            this.stencilClass = '';<br />            this.stencilReplacement = 'slds-hide';<br />        }<br />        this.createRecordOpen = true;<br />    }<br /><br />    handleRecTypeChange(event) {<br />        console.log("In handleRecTypeChange", event.target.value);<br />        this.recordTypeId = event.target.value;<br />    }<br /><br />    createRecordMain() {<br />        this.recordTypeSelector = false;<br />        this.mainRecord = true;<br />        //stencil before getting data<br />        this.stencilClass = '';<br />        this.stencilReplacement = 'slds-hide';<br />    }<br /><br />    handleLoad(event) {<br />        let details = event.detail;<br /><br />        if(details) {<br />            setTimeout(() =&gt; {<br />                this.stencilClass = 'slds-hide';<br />                this.stencilReplacement = '';<br />                this.myPadding = 'slds-p-around_medium slds-modal__content';<br />            }, 1000);<br />        }<br /><br />    }<br /><br />    handleSubmit() {<br />        this.template.querySelector('lightning-record-form').submit();<br />    }<br /><br />    handleSuccess(event) {<br /> <br />        this.createRecordOpen = false;<br />        this.mainRecord = false;<br />        this.stencilClass = '';<br />        this.stencilReplacement = 'slds-hide';<br /><br />        let selectedId = event.detail.id;<br />        let key = this.uniqueKey;<br />        const valueSelectedEvent = new CustomEvent('valueselect', {<br />            detail: { selectedId, key },<br />        });<br />        this.dispatchEvent(valueSelectedEvent);<br /><br />        this.dispatchEvent(<br />            new ShowToastEvent({<br />                title : 'Success',<br />                message : `Record saved successfully with id: ${event.detail.id}`,<br />                variant : 'success',<br />            }),<br />        )<br />    }<br /><br />    handleError() {<br /><br />        this.dispatchEvent(<br />            new ShowToastEvent({<br />                title : 'Error',<br />                message : 'Error saving the record',<br />                variant : 'error',<br />            }),<br />        )<br />    }<br /><br />    closeModal() {<br />        this.stencilClass = '';<br />        this.stencilReplacement = 'slds-hide';<br />        this.createRecordOpen = false;<br />        this.recordTypeSelector = false;<br />        this.mainRecord = false;<br />    }<br />}<br /></code></pre><br /><input name="IL_IN_ARTICLE" type="hidden" /><br /><h3 style="text-align: left;">LookUp.css</h3><pre class="language-javascript" width="100%"><code><br />.pillSize{<br />    width : 100%<br />}<br /><br /><br />lightning-radio-group .slds-radio_faux {<br />    margin-right: 10px;<br />}<br /><br />.slds-modal__content{<br />    overflow: initial;<br />}<br /></code></pre><br /><h3 style="text-align: left;">LookupController.apxc</h3><pre class="language-javascript" width="100%"><code><br />public class LookupController {<br /><br />    @AuraEnabled(cacheable=true)<br />    public static List&lt;sObject&gt; lookUp(String searchTerm, string myObject, String filter) {<br />        String myQuery = null;<br />        <br />        if(filter != null &amp;&amp; filter != ''){<br />            myQuery = 'Select Id, Name from '+myObject+' Where Name Like  \'%' + searchTerm + '%\' AND '+filter+' LIMIT  5'; <br />        }<br />        else {<br />            if(searchTerm == null || searchTerm == ''){<br />                myQuery = 'Select Id, Name from '+myObject+' Where LastViewedDate != NULL ORDER BY LastViewedDate DESC LIMIT  5'; <br />            }<br />            else {<br />                myQuery = 'Select Id, Name from '+myObject+' Where Name Like  \'%' + searchTerm + '%\' LIMIT  5';<br />            }<br />        }<br />        <br />        List&lt;sObject&gt; lookUpList = database.query(myQuery);<br /><br />        return lookUpList;  <br />    }<br />}<br /></code></pre></div></div><!-- Post Ad --><br /><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><br /><!-- In Article Display Ads --><br /><ins class="adsbygoogle" data-ad-client="ca-pub-6753262254014660" data-ad-slot="9445070986" style="display: inline-block; height: 410px; width: 640px;"></ins><br /><script>     (adsbygoogle = window.adsbygoogle || []).push({}); </script><br /><!-- Post Ad --><br /><br /><br /><h2 style="text-align: left;"><span style="font-size: large;">Implementation</span></h2><pre class="language-markup" width="100%"><code><br />&lt;aura:component controller="ContactController" implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes,force:lightningQuickAction" access="global" &gt;<br />    <br />    &lt;aura:attribute name="recordId" type="String"/&gt;<br />    &lt;aura:attribute name="record" type="Object"/&gt;<br />    &lt;aura:attribute name="loaded" type="Boolean" default="false"/&gt;<br />    &lt;aura:attribute name="iconName" type="String" default="utility:refresh"/&gt;<br />    <br />    &lt;aura:handler name="init" value="{!this}" action="{!c.doInit}"/&gt;<br />    <br />    <br />    &lt;lightning:card title="Update Record Aura"&gt;<br />        &lt;aura:set attribute="actions"&gt;<br />            &lt;lightning:buttonIcon aura:id="refreshIcon" iconName="{!v.iconName}" onclick="{!c.refresh}" alternativeText="Refresh"/&gt;<br />        &lt;/aura:set&gt;<br />        &lt;form&gt;<br />            &lt;div class="slds-p-around_small"&gt;<br />                &lt;lightning:input label="First Name" value="{!v.record.FirstName}"/&gt;<br />                &lt;lightning:input label="Last Name" value="{!v.record.LastName}"/&gt;<br />                &lt;lightning:input label="Email" value="{!v.record.Email}"/&gt;<br />                <br />  <br /><br /><span style="background-color: yellow;">                &lt;c:LookupUpdated valueId="{!v.record.AccountId}"<br />                                 objName="Account"<br />                                 iconName="standard:account"<br />                                 labelName="Account"<br />                                 readOnly="false"<br />                                 /&gt;<br /><br />                <br />                &lt;c:LookupUpdated valueId="{!v.record.Id}"<br />                                 objName="Contact"<br />                                 iconName="standard:contact"<br />                                 labelName="Contact"<br />                                 readOnly="false"<br />                                 /&gt;</span><br />                <br />                <br />                &lt;br&gt;&lt;/br&gt;<br />                &lt;lightning:button label="Update" onclick="{!c.save}"/&gt;<br />            &lt;/div&gt;<br />            &lt;aura:if isTrue="{! !v.loaded }"&gt;<br />                &lt;lightning:spinner alternativeText="Loading" /&gt;<br />                <br />            &lt;/aura:if&gt;<br />            <br />        &lt;/form&gt;<br />    &lt;/lightning:card&gt;<br />    <br />&lt;/aura:component&gt;<br /></code></pre><br /><pre class="language-javascript" width="100%"><code><br />({<br /> doInit : function(component, event, helper) {<br />  console.log("In rec Init");<br />        <br />        var recId = component.get("v.recordId");<br />        //For Record Insert usage<br />        if(!recId) {<br />            component.set("v.loaded", true);<br />            //return;<br />        }<br />        var action = component.get("c.example");<br />        action.setParams({<br />            recId : recId<br />        });<br />        action.setCallback(this, function(response) {<br />            var state = response.getState();<br />            <br />            if(state === 'SUCCESS') {<br />                var result = response.getReturnValue();<br />                console.log("In result", JSON.stringify(result));<br />                component.set("v.record", result);<br />                 component.set("v.iconName", "utility:refresh");<br />                component.set("v.loaded", true);<br />            }<br />        });<br />        $A.enqueueAction(action);<br /> },<br />    <br />    save : function(component, event, helper) {<br />        console.log("In save");<br />        <br />        component.set("v.loaded", false);<br />        <br />        var rec = component.get("v.record");<br />        console.log("Kishore rec", rec);<br />        var action = component.get("c.example1");<br />        action.setParams({<br />            record : rec<br />        });<br />        action.setCallback(this, function(response) {<br />            var state = response.getState();<br />            <br />            if(state === 'SUCCESS') {<br />                console.log("In save Init");<br />    var init = component.get("c.doInit");<br />                $A.enqueueAction(init);<br />            }<br />        });<br />        $A.enqueueAction(action);<br />    },<br />    <br />    refresh : function(component, event, helper) {<br />        component.set("v.iconName", "utility:sync");<br />        <br />        component.set("v.loaded", false);<br />        <br />        var initMethod = component.get("c.doInit");<br />        $A.enqueueAction(initMethod);<br /><br />        //$A.get('e.force:refreshView').fire();<br />       <br />    },<br />    handleChange4 : function(component, event, helper) {<br />        console.log("In Handle dependent picklist change Aura");<br />        <br />        var SelectedValue = event.getParam('selectedValue');<br />        component.set("v.record.Continent__c", SelectedValue);<br />    },<br />    handleChange5 : function(component, event, helper) {<br />        console.log("In Handle dependent picklist change Aura");<br />        <br />        var SelectedValue = event.getParam('selectedValue');<br />        component.set("v.record.Course__c", SelectedValue);<br />    },<br />    <br />    handleChange1 : function(component, event, helper) {<br />        console.log("In Handle dependent picklist change Aura");<br />        <br />        var SelectedValue = event.getParam('selectedValue');<br />        component.set("v.record.Country__c", SelectedValue);<br />    },<br />    handleChange2 : function(component, event, helper) {<br />        console.log("In Handle dependent picklist change Aura");<br />        <br />        var SelectedValue = event.getParam('selectedValue');<br />        component.set("v.record.State__c", SelectedValue);<br />    },<br />    handleChange3 : function(component, event, helper) {<br />        console.log("In Handle dependent picklist change Aura");<br />        <br />        var SelectedValue = event.getParam('selectedValue');<br />        component.set("v.record.Subjects__c", SelectedValue);<br />    },<br />})<br /></code></pre><span style="font-size: large;">In this component, we are using a custom Stencil component to make our component look more real and appealing rather than using the spinner. Get the stencil code here,&nbsp;<a href="https://github.com/kishoreBandanadam/lwc/tree/master/force-app/main/default/lwc/stencilLwc" target="_blank">Learn more about Stencils</a>.</span><br /><br /><span style="font-size: large;">Hope you enjoyed reading this article. You can ask your queries in the comments section below. I would be happy to answer. Please let me know if you find any mistakes.</span></div><br /><!-- Post Ad --><br /><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><br /><!-- In Article Display Ads --><br /><ins class="adsbygoogle" data-ad-client="ca-pub-6753262254014660" data-ad-slot="9445070986" style="display: inline-block; height: 410px; width: 640px;"></ins><br /><script>     (adsbygoogle = window.adsbygoogle || []).push({}); </script><br /><!-- Post Ad --><span style="font-size: x-small;">Icons made by&nbsp;</span><a href="https://www.flaticon.com/%3C?=_(%27authors/%27)?%3Eitim2101" style="font-size: small;" title="itim2101">itim2101</a><span style="font-size: x-small;">&nbsp;from&nbsp;</span><a href="https://www.flaticon.com/" style="font-size: small;" title="Flaticon">www.flaticon.com</a></div><div class="blogger-post-footer">kishore
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-6753262254014660"
     data-ad-slot="4346718206"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div>