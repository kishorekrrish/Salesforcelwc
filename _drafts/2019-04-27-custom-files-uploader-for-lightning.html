---
layout: post
title: Custom Files Uploader for Salesforce Lightning Components
date: '2019-04-27T23:52:00.001-07:00'
author: Kishore Bandanadam
tags:
- Lightning
modified_time: '2019-10-08T03:09:44.376-07:00'
thumbnail: https://2.bp.blogspot.com/-DcOyMYf1hjc/XMVNXANGURI/AAAAAAAAANs/gbppsorIh3cr5a928vC-M3I9nU_sucSRACEwYBhgL/s72-c/Upload%2BFiles%2BIn%2BLightning.png
blogger_id: tag:blogger.com,1999:blog-1420289748500157217.post-4523980260441110805
blogger_orig_url: https://www.salesforcelwc.in/2019/04/custom-files-uploader-for-lightning.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><div dir="ltr" style="text-align: left;" trbidi="on"><b><a href="https://www.salesforcelwc.in/2019/04/custom-files-uploader-for-lightning.html" rel="">Custom Files Uploader for&nbsp;Salesforce Lightning Components</a></b><br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://2.bp.blogspot.com/-DcOyMYf1hjc/XMVNXANGURI/AAAAAAAAANs/gbppsorIh3cr5a928vC-M3I9nU_sucSRACEwYBhgL/s1600/Upload%2BFiles%2BIn%2BLightning.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img alt="Custom Files Uploader for Lightning Components" border="0" data-original-height="410" data-original-width="640" src="https://2.bp.blogspot.com/-DcOyMYf1hjc/XMVNXANGURI/AAAAAAAAANs/gbppsorIh3cr5a928vC-M3I9nU_sucSRACEwYBhgL/s1600/Upload%2BFiles%2BIn%2BLightning.png" title="Custom Files Uploader for Lightning Components" /></a></div><br /><!--PostAd--><br /><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><br /><!-- In Post --><br /><ins class="adsbygoogle"      style="display:block"      data-ad-client="ca-pub-6753262254014660"      data-ad-slot="8484998091"      data-ad-format="auto"      data-full-width-responsive="true"></ins><br /><script>     (adsbygoogle = window.adsbygoogle || []).push({}); </script><br /><!--PostAd--><br /><h3 style="text-align: left;"><a href="https://www.salesforcelwc.in/2019/04/custom-files-uploader-for-lightning.html" rel="">Custom Files Uploader | Lightning Components</a></h3><br />In this post we are going to see a Custom Files Uploader component. Which can be reused in any other component.<br /><br /><a name='more'></a><br /><input name="IL_IN_ARTICLE" type="hidden" /><br /><iframe allow="autoplay; fullscreen" allowfullscreen="" frameborder="0" height="404" src="https://player.vimeo.com/video/335663627" width="640"></iframe>  <br /><h3 style="text-align: left;">Component:</h3><br /><h4 style="text-align: left;">FilesUploader.cmp:</h4><pre class="language-markup" width="100%"><code><br />&lt;aura:component implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,force:lightningQuickAction" access="global" &gt;<br /> <br />    &lt;aura:attribute name="recordId" type="Id"/&gt;<br />    &lt;aura:attribute name="accept" type="List" default="['.jpg', '.jpeg', '.pdf', '.zip']"/&gt;<br />    &lt;aura:attribute name="multiple" type="Boolean" default="true"/&gt;<br />    &lt;aura:attribute name="disabled" type="Boolean" default="false"/&gt;<br />    <br />    &lt;aura:registerEvent name="AttachmentUploaderEvent" type="c:AttachmentUploaderEvent"/&gt;<br />    &lt;aura:registerEvent name="updateAttachmentsAppEvent" type="c:updateAttachmentsAppEvent"/&gt;<br />    <br />    &lt;lightning:fileUpload multiple="{!v.multiple}" <br />                          accept="{!v.accept}" <br />                          recordId="{!v.recordId}" <br />                          onuploadfinished="{!c.handleUploadFinished}" /&gt;<br />    <br />    <br />&lt;/aura:component&gt;<br /></code></pre></div><br /><h4 style="text-align: left;">FilesUploder.js:</h4><pre class="language-javascript" width="100%"><code><br />({<br />    handleUploadFinished : function(component, event, helper) {<br />        var uploadedFiles = event.getParam("files");<br />        var documentId = uploadedFiles[0].documentId;<br />        var fileName = uploadedFiles[0].name;<br />        console.log("In ");<br />        for(var i = 0; i &lt; uploadedFiles.length; i++){<br />            console.log(uploadedFiles[i].name);<br />        }<br />        <br />        var toastEvent = $A.get("e.force:showToast");<br />        for(var i = 1; i &lt; uploadedFiles.length; i++){<br />            fileName = fileName + ','+''+ uploadedFiles[i].name;<br />        }<br />        console.log("Names::::::"+fileName);<br />        <br />        toastEvent.setParams({<br />            "title": "Success!",<br />            "message": "File(s) "+ fileName +" Uploaded successfully.",<br />            "type" : "SUCCESS"<br />        });<br />        toastEvent.fire();<br />        <br />        <br />        var attachmentUploaderEvent = component.getEvent("AttachmentUploaderEvent");<br />   attachmentUploaderEvent.setParam("Uploaded", "Success");<br />         attachmentUploaderEvent.fire();<br />        <br />        <br />        var updateAttachmentsAppEvent = component.getEvent("updateAttachmentsAppEvent");<br />         updateAttachmentsAppEvent.fire();<br />        /*$A.get('e.lightning:openFiles').fire({<br />            recordIds: [documentId]<br />        });*/<br />        <br />    }<br />})<br /></code></pre>This component is a reusable component and can be used in any component and upload files to any record just by specifying the Record Id and multiple = 'true' or 'false'. Specify the attribute <b>multiple </b>= <b>'true'</b> or <b>'false</b>' as <i>true</i> if you want to upload multiple files and <i>false </i>when you want to restrict files to be uploaded to only one.   It also has an event that fires when files are successfully uploaded.   <br /><div><br /></div><!--PostAd--><br /><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><br /><!-- In Post --><br /><ins class="adsbygoogle"      style="display:block"      data-ad-client="ca-pub-6753262254014660"      data-ad-slot="8484998091"      data-ad-format="auto"      data-full-width-responsive="true"></ins><br /><script>     (adsbygoogle = window.adsbygoogle || []).push({}); </script><br /><!--PostAd--><h4 style="text-align: left;">FilesUploaderEvent.evt:</h4><pre class="language-markup" width="100%"><code><br />&lt;aura:event type="COMPONENT" description="Event template"&gt;<br />    &lt;aura:attribute name="Uploaded" type="String"/&gt;<br />&lt;/aura:event&gt;<br /></code></pre>Hope this post helped you gain some knowledge, If you like the content <br /><div class="separator" style="clear: both; text-align: center;"></div>please don't step back to like my page and leave your feedback, It will motivate me to make more posts.  Do subscribe, for getting latest updates directly in your inbox.</div><div class="blogger-post-footer">kishore
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-6753262254014660"
     data-ad-slot="4346718206"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div>