---
layout: post
title: Blockers You will come across while dealing with Lists in LWC
date: '2019-09-12T10:02:00.000-07:00'
author: Kishore Bandanadam
tags:
- Lightning Web Components
modified_time: '2019-11-01T12:06:37.183-07:00'
thumbnail: https://1.bp.blogspot.com/-K9gYYaJb_zE/XXp56wQtoHI/AAAAAAAAAZc/yjgMqYOF3aANdcST8q8ewssLQaWmWVXSQCLcBGAsYHQ/s72-c/blockerListLwc-compressor.png
blogger_id: tag:blogger.com,1999:blog-1420289748500157217.post-4534283577116653319
blogger_orig_url: https://www.salesforcelwc.in/2019/09/blockers-in-lwc-list.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><div dir="ltr" trbidi="on"><div dir="ltr" trbidi="on"><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-K9gYYaJb_zE/XXp56wQtoHI/AAAAAAAAAZc/yjgMqYOF3aANdcST8q8ewssLQaWmWVXSQCLcBGAsYHQ/s1600/blockerListLwc-compressor.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img alt="Blockers You will come across while dealing with Lists in LWC" border="0" data-original-height="410" data-original-width="640" src="https://1.bp.blogspot.com/-K9gYYaJb_zE/XXp56wQtoHI/AAAAAAAAAZc/yjgMqYOF3aANdcST8q8ewssLQaWmWVXSQCLcBGAsYHQ/s1600/blockerListLwc-compressor.png" title="Blockers You will come across while dealing with Lists in LWC" /></a></div><span style="font-size: large;"><br /></span> <br /><h3 style="text-align: left;"><a href="https://www.salesforcelwc.in/2019/09/blockers-in-lwc-list.html">Blockers You will come across while dealing with Lists in LWC</a></h3><span style="font-size: large;">Previously we have seen how data binding acts as a blocker and how to overcome that in LWC. In this article, we will understand how data binding acts as a blocker when dealing with lists in LWC.</span><br /><div><span style="font-size: large;"><br /></span></div><div><span style="font-size: large;">In Salesforce we often deal with a list of records, may it be related list and whatnot. We will compare and understand data binding in the case of lists in AURA and LWC.</span><br /><span style="font-size: large;"></span><br /><a name='more'></a><br /><span style="font-size: large;">Let's take a simple example to understand this,</span><br /><br /><h2 style="text-align: left;">AURA</h2><br /><pre class="language-markup" width="100%"><code><br />&lt;aura:attribute name="records" type="Object[]"/&gt;<br /><br />&lt;aura:handler name="init" value="{!this}" action="{!c.doinit}"/&gt;<br /><br />&lt;aura:iteration items="{!v.records}" var="rec" indexVar="index"&gt;<br /> &lt;lightning:layout&gt;<br />  &lt;lightning:layoutItem size="1" padding="around-small" flexibility="auto, no-grow"&gt;<br />   &lt;lightning:input label="name" value="{!rec.Name}" variant="label-hidden"/&gt;<br />  &lt;/lightning:layoutItem&gt;<br />  &lt;lightning:layoutItem size="1" padding="around-small" flexibility="auto, no-grow"&gt;<br />   &lt;lightning:input label="Industry" value="{!rec.Industry}" variant="label-hidden"/&gt;<br />  &lt;/lightning:layoutItem&gt;<br /> &lt;/lightning:layout&gt;<br /><br />        &lt;lightning:button label="Save" onclick="{!c.save}" variant="brand"/&gt;<br />&lt;/aura:iteration&gt;<br /></code></pre></div></div><br /><br /><pre class="language-javascript" width="100%"><code><br />doinit : function(component, event, helper) {<br /> <br /> var action = component.get("c.getAccounts");<br /> //Here getAccounts method returns List of account records with Name and Industry fields<br /> action.setCallback(this, function(response){<br />  var state = response.getState();<br />  if(state === 'SUCCESS' || state === 'DRAFT'){<br />   let result = response.getReturnValue();<br />   component.set("v.records", result);<br />  }<br /> });<br /> $A.enqueueAction(action);<br />},<br /><br />save : function(component, event, helper) {<br /> <br /> var recordsToSave  = component.get("v.records");<br /> // variable "recordsToSave" will have all the existing/changed data using input components<br />}<br /></code></pre><br /><br /><span style="font-size: large;">In the above example, we are just declaring an attribute called records of type array of objects and using it in our mark-up and everything is handled by AURA, we don't need to worry about indexing and stuff. In javascript, we directly retrieve the changed records by one single line "component.get()" and we get all changed records with changes reflecting in the exact indices rather than mapping the changes manually to the particular indexed record. This doesn't work in the case of&nbsp; LWC.</span><br /><!-- Post Ad --><br /><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><br /><!-- Common Display Ad --><br /><ins class="adsbygoogle"      style="display:block"      data-ad-client="ca-pub-6753262254014660"      data-ad-slot="8811166651"      data-ad-format="auto"      data-full-width-responsive="true"></ins><br /><script>     (adsbygoogle = window.adsbygoogle || []).push({}); </script><br /><!-- Post Ad --><br /><h2 style="text-align: left;">LWC</h2><br /><pre class="language-markup" width="100%"><code><br />&lt;template for:each = {records} for:item = "record" for:index="indexVar"&gt;<br /> &lt;tr key={record.Id} class="slds-hint-parent"&gt;<br />  &lt;td class="slds-size_3-of-10" data-label="Prospecting"&gt;<br />   &lt;div  title="Prospecting"&gt;<br />    &lt;lightning-input data-id={record.Id} name="Name" label="Name" value={record.Name} variant="label-hidden" onchange={handleNameChange}&gt;&lt;/lightning-input&gt;<br />   &lt;/div&gt;<br />   &lt;div  title="Prospecting"&gt;<br />    &lt;lightning-input data-id={record.Id} name="Industry" label="Name" value={record.Industry} variant="label-hidden" onchange={handleIndustryChange}&gt;&lt;/lightning-input&gt;<br />   &lt;/div&gt;<br />  &lt;/td&gt;<br /> &lt;/tr&gt;<br />&lt;/template&gt;<br /></code></pre></div><br /><br /><pre class="language-javascript" width="100%"><code><br />import { LightningElement, track } from 'lwc';<br />import getAccounts from '@salesforce/apex/dynamicRowsController.getAccounts';<br /><br /><br />export default class TestBinding extends LightningElement {<br />    <br />    @track records = [];<br /><br />    connectedCallback() {<br />      getAccounts()<br />         .then(result =&gt; {<br />           this.records = result;<br />           this.error = undefined;<br />         })<br />         .catch(error =&gt; {<br />           this.error = error;<br />           this.record = undefined;<br />         });  <br />    }<br /><br />    /*--------------------Mapping field values to the list onchange --------------------*/                <br />    handleNameChange(event) {<br />        let record = this.records.find(ele  =&gt; ele.Id === event.target.dataset.id);<br />        record.Name = event.target.value;<br />        this.records = [...this.records];<br />    }<br /> <br />    handleIndustryChange(event) {<br />        let record = this.records.find(ele  =&gt; ele.Id === event.target.dataset.id);<br />        record.Industry = event.target.value;<br />        this.records = [...this.records];<br />    }<br />}<br /></code></pre><br /><br /><span style="font-size: large;">I hope you have understood the difference just by looking at the sample code. If not, here you go.</span><br /><span style="font-size: large;"><br /></span> <span style="font-size: large;">In connected callback which is equivalent to init handler in the aura, we get the list of accounts,&nbsp; As you know LWC has only one-way data binding, we need to map data changes in the input elements to the exact record in the list to which changes are made, for that we use Id as the unique key and use find() method to find the record based on Id and map the changed value may it be name or any other field as shown above.</span><br /><br /><!-- Post Ad --><br /><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><br /><!-- Common Display Ad --><br /><ins class="adsbygoogle"      style="display:block"      data-ad-client="ca-pub-6753262254014660"      data-ad-slot="8811166651"      data-ad-format="auto"      data-full-width-responsive="true"></ins><br /><script>     (adsbygoogle = window.adsbygoogle || []).push({}); </script><br /><!-- Post Ad --><br /><br /><span style="font-size: large;">If you have noticed this line in the code</span><br /><blockquote class="tr_bq">&nbsp; &nbsp; &nbsp;<span style="font-size: large;"><b>this.records = [...this.records]</b></span></blockquote><span style="font-size: large;">basically, what this means is we are cloning "records" and assigning the value to itself which triggers @track decorator to sense data change and re-render.</span><br /><br /><br /><span style="color: #674ea7; font-size: large;">I hope you like this information. Please write what you think about one-way and two-way binding, what do you think is better. If you have any thoughts please write them the comment section below.</span><br /><span style="color: #674ea7; font-size: large;">If you find any mistakes please let me know.</span><br /><span style="font-size: large;"><br /></span><span style="color: #38761d; font-size: large;">For your information, the round blue plus button to the bottom right corner is a lightning web component, Please click the button and subscribe to more updates on Salesforce LWC.</span><br /><span style="color: #38761d; font-size: large;"><br /></span><span style="color: #38761d; font-size: large;"><br /></span><br />The avatars you are seeing can be found here&nbsp;<a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a></div><div class="blogger-post-footer">kishore
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-6753262254014660"
     data-ad-slot="4346718206"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div>