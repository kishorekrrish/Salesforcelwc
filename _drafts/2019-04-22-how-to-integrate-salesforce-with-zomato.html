---
layout: post
title: How to integrate Salesforce with Zomato using Lightning Web Components
date: '2019-04-22T02:55:00.001-07:00'
author: Kishore Bandanadam
tags:
- Apex
- Lightning Web Components
modified_time: '2019-11-01T12:08:59.340-07:00'
thumbnail: https://1.bp.blogspot.com/-VhOyzppzV-w/XNcRKddcvwI/AAAAAAAAARs/WvTPBJfdoykuZK3LyZppI588oGJglZ9XwCLcBGAs/s72-c/Zomato.webp
blogger_id: tag:blogger.com,1999:blog-1420289748500157217.post-3642824924715957783
blogger_orig_url: https://www.salesforcelwc.in/2019/04/how-to-integrate-salesforce-with-zomato.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><a href="https://www.salesforcelwc.in/2019/04/how-to-integrate-salesforce-with-zomato.html" rel="">How to integrate Salesforce with Zomato using Lightning Web Components</a><br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-VhOyzppzV-w/XNcRKddcvwI/AAAAAAAAARs/WvTPBJfdoykuZK3LyZppI588oGJglZ9XwCLcBGAs/s1600/Zomato.webp" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img alt="How to integrate Salesforce with Zomato using Lightning Web Components" border="0" data-original-height="410" data-original-width="640" src="https://1.bp.blogspot.com/-VhOyzppzV-w/XNcRKddcvwI/AAAAAAAAARs/WvTPBJfdoykuZK3LyZppI588oGJglZ9XwCLcBGAs/s1600/Zomato.webp" title="How to integrate Salesforce with Zomato using Lightning Web Components" /></a></div><div class="separator" style="clear: both; text-align: center;"></div><br /><h2 style="text-align: left;"><a href="https://www.salesforcelwc.in/2019/04/how-to-integrate-salesforce-with-zomato.html">Lightning Web Components |&nbsp;Salesforce Integration with Zomato</a></h2><div><span style="font-size: large;">In this post we are going to learn how to you integrate Salesforce with Zomato by Http Callouts in LWC.</span><br /><span style="font-size: large;"></span><br /><a name='more'></a><br /><input name="IL_IN_ARTICLE" type="hidden" /><br /><span style="font-family: inherit; font-size: large;">We are all aware about the newly introduced Lightning Web Components by Salesforce. Now we can build Lightning components using two programming models,&nbsp;</span></div><div><ol style="text-align: left;"><li><span style="font-family: inherit; font-size: large;">Lightning Web Components (New model)&nbsp;</span></li><li><span style="font-family: inherit; font-size: large;">Aura Components (Original model)</span></li></ol><span style="font-family: inherit; font-size: large;">Lightning web components are custom HTML elements built using HTML and modern JavaScript. With newly introduced tech comes new challenges. We are going to overcome those challenges and develop a component.</span><br /><!-- Post Ad --><br /><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><br /><!-- Common Display Ad --><br /><ins class="adsbygoogle"      style="display:block"      data-ad-client="ca-pub-6753262254014660"      data-ad-slot="8811166651"      data-ad-format="auto"      data-full-width-responsive="true"></ins><br /><script>     (adsbygoogle = window.adsbygoogle || []).push({}); </script><br /><!-- Post Ad --><br /><span style="font-size: large;"> <span style="font-family: inherit;">In order to integrate with Zomato, we need to add Zomato site url in Remote Site settings in Salesforce.</span></span><br /><span style="font-family: inherit;"><br /></span> <br /><div class="separator" style="clear: both; text-align: center;"></div><span style="font-family: inherit;">  <iframe allow="autoplay; fullscreen" allowfullscreen="" frameborder="0" height="348" src="https://player.vimeo.com/video/335609844" width="640"></iframe>  </span> <span style="font-family: inherit;"><br /></span> <br /><h3 style="text-align: left;"><span style="color: #674ea7; font-family: inherit;">Remote Site Settings:</span></h3><span style="font-family: inherit; font-size: large;">Salesforce allows you to access external website resources from a Salesforce application for your organization. You can access these external websites through Apex Callouts. To avoid access to malicious websites from Salesforce, the website first needs to be registered with remote site settings. Once the site is registered, it can be used within Salesforce.</span><br /><span style="font-size: large;"><span style="font-family: inherit;"><br /></span> <span style="font-family: inherit;">In Salesforce go to,&nbsp;</span></span><br /><span style="font-size: large;"><span style="font-family: inherit;"><br /></span> </span><br /><blockquote class="tr_bq"><span style="font-family: inherit; font-size: large;">Settings ---- Security ---- Remote Site Settings ----New Remote Site</span></blockquote><span style="font-size: large;"><span style="font-family: inherit;"><br /></span> <span style="font-family: inherit;">Add the Site name and Url (In site Url add: https://developers.zomato.com) and click on save.</span></span><br /><span style="font-family: inherit;"><br /></span> <br /><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-qIR0ct34SHw/XNcTw6SNu4I/AAAAAAAAAR4/t-njtZrANoAltAZceIRRQsggj_nZTxZ3gCLcBGAs/s1600/remoteSite.webp" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img alt="How to integrate Salesforce with Zomato using Lightning Web Components" border="0" data-original-height="260" data-original-width="836" src="https://1.bp.blogspot.com/-qIR0ct34SHw/XNcTw6SNu4I/AAAAAAAAAR4/t-njtZrANoAltAZceIRRQsggj_nZTxZ3gCLcBGAs/s1600/remoteSite.webp" title="How to integrate Salesforce with Zomato using Lightning Web Components" /></a></div><br /><br /><span style="font-size: large;">In order to integrate with Zomato and access its data, we need to request zomato for an API key, which you can generate from here in less than a minute.</span></div><div class="small-button"><span style="font-size: large;"><a class="button small" href="https://developers.zomato.com/api#headline2" rel="nofollow">Generate Api Key</a> </span><br /><span style="font-size: large;"><br /></span><br /><h2 style="text-align: left;"><span style="font-size: large;">LIVE COMPONENT:</span></h2><br /><div id="zomato"></div><script src="https://kishorelwc-developer-edition.ap5.force.com/salesforcelwc/lightning/lightning.out.js"></script><br /><br /><script async="">           $Lightning.use("c:form", function() {      $Lightning.createComponent("c:zomato",     {     },    "zomato",     function(component) {    console.log("LWC component was created");     });  },    'https://kishorelwc-developer-edition.ap5.force.com/salesforcelwc',    'session-id');  </script><br /><span style="font-size: large;">Sign up into Zomato and generate Api key by following the instructions.</span><br /><br /><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-tBQlwlbUsz0/XNcULHkL-aI/AAAAAAAAASA/_YjaioV2oOEapevHnfZOAe6Am9R3Ty92ACLcBGAs/s1600/IMG_20190426_161312.webp" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img alt="How to integrate Salesforce with Zomato using Lightning Web Components" border="0" data-original-height="214" data-original-width="839" src="https://1.bp.blogspot.com/-tBQlwlbUsz0/XNcULHkL-aI/AAAAAAAAASA/_YjaioV2oOEapevHnfZOAe6Am9R3Ty92ACLcBGAs/s1600/IMG_20190426_161312.webp" title="How to integrate Salesforce with Zomato using Lightning Web Components" /></a></div><br /><br /><span style="font-size: large;">You will get the key similar to the above key in the image. Save it, as we are going to use that in the api call.</span><br /><!-- Post Ad --><br /><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><br /><!-- Common Display Ad --><br /><ins class="adsbygoogle"      style="display:block"      data-ad-client="ca-pub-6753262254014660"      data-ad-slot="8811166651"      data-ad-format="auto"      data-full-width-responsive="true"></ins><br /><script>     (adsbygoogle = window.adsbygoogle || []).push({}); </script><br /><!-- Post Ad --><br /><span style="font-size: large;">Zomato Api documentation consists of all the services provided. In this session we are going to use only two services.</span><br /><span style="font-size: large;"><br /></span> <br /><ol style="text-align: left;"><li><span style="font-size: large;">Location (to get the location details)</span></li><li><span style="font-size: large;">Search (to search the restaurants based on the selected location)</span></li></ol><div class="small-button"><h3 style="text-align: left;"><a class="button small" href="https://www.blogger.com/" rel="nofollow">Zomato Documentation</a></h3><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="https://4.bp.blogspot.com/-l8PfATLA0DI/XNcUQ9sRj_I/AAAAAAAAASE/g8oRqHxpsOoSZ2-GmFkXc19jSAPcsrEDwCLcBGAs/s1600/zomatoServices.webp" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img alt="How to integrate Salesforce with Zomato using Lightning Web Components" border="0" data-original-height="408" data-original-width="860" src="https://4.bp.blogspot.com/-l8PfATLA0DI/XNcUQ9sRj_I/AAAAAAAAASE/g8oRqHxpsOoSZ2-GmFkXc19jSAPcsrEDwCLcBGAs/s1600/zomatoServices.webp" title="How to integrate Salesforce with Zomato using Lightning Web Components" /></a></div><div class="separator" style="clear: both; text-align: center;"></div><div><h3 style="text-align: left;"></h3><h3 style="text-align: left;"><span style="font-size: large;"> Now comes the Code!!!</span></h3><br /><span style="font-size: large;">First we need to write Apex Classes for <b>Locations&nbsp;</b>and <b>Search </b>[<u>GET</u>] services provided by Zomato, which are selected in red in the above image. Please refer <b>How to convert Json to Apex&nbsp;</b>to know more about conversion of json to apex.</span><br /><br /><blockquote class="tr_bq"><h4 style="text-align: left;"><span style="background-color: #eeeeee; font-size: large;"><a href="https://www.salesforcelwc.in/2019/04/how-to-parse-json-response-in-apex.html" rel=""><span style="font-weight: normal;">Related Post</span><b>:&nbsp; &nbsp;How to convert Json to Apex</b></a></span></h4></blockquote><br /><h4 style="text-align: left;"><span style="font-size: large;"> Controllers:</span></h4><ol style="text-align: left;"><li><b><span style="font-size: large;">ZomatoLocation.cls</span></b></li><li><b><span style="font-size: large;">ZomatoSearch.cls</span></b></li><li><b><span style="font-size: large;">ZomatoClass.cls</span></b></li></ol></div></div><h4 style="text-align: left;"><span style="font-size: large;"> Components:</span></h4><div class="small-button"><b><span style="font-size: large;">zomato</span></b></div><div class="small-button"><ul style="text-align: left;"><li><span style="font-size: large;">zomato.js</span></li><li><span style="font-size: large;">zomato.html</span></li></ul></div><div style="text-align: left;"><b><span style="font-size: large;">zomatoDisplayRestaurants</span></b></div><div class="small-button"><ul style="text-align: left;"><li><span style="font-size: large;">zomatoDisplayRestaurants.js</span></li><li><span style="font-size: large;">zomatoDisplayRestaurants.html</span></li></ul><div><b><span style="font-size: large;">pubsub</span></b></div><div><ul><li><span style="font-size: large;">pubsub.js</span></li></ul><h4 style="text-align: left;"></h4><h3 style="text-align: left;"><span style="font-size: large;"> zomato.html</span></h3><div><br /></div><pre class="language-markup" width="100%"><code><br />&lt;template&gt;<br />    &lt;lightning-card title="Enter Location" icon-name="standard:location"&gt;<br /><br />            &lt;lightning-layout&gt;<br />                    &lt;lightning-layout-item size="6" padding="around-small"&gt;<br />                        &lt;div class="header-column"&gt;<br />                                &lt;lightning-input label="Location" value={location} onchange={handleLocationChange}&gt;&lt;/lightning-input&gt;&lt;/br&gt;<br />                                &lt;lightning-button label="Select Location" onclick={selectLocation}&gt;&lt;/lightning-button&gt;<br />                        &lt;/div&gt;<br />                    &lt;/lightning-layout-item&gt;<br />                    &lt;lightning-layout-item size="6" padding="around-small"&gt;<br />                        &lt;div class="header-column"&gt;<br />                            &lt;lightning-input label="Location Selected" value={selectedLocation} readonly onchange={handleLocationChange}&gt;&lt;/lightning-input&gt;&lt;/br&gt;<br />                            &lt;lightning-input label="Restaurant Name" value={restaurant} onchange={handleRestaurantChange}&gt;&lt;/lightning-input&gt;&lt;/br&gt;<br />                            &lt;lightning-button label="Search Restaurants" onclick={searchRestaurant}&gt;&lt;/lightning-button&gt;<br />                        &lt;/div&gt;<br />                    &lt;/lightning-layout-item&gt;<br />                &lt;/lightning-layout&gt;<br />    &lt;/lightning-card&gt;<br />&lt;/template&gt;<br /></code></pre></div></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-NQLa_Si_g5g/XNcUwg12LoI/AAAAAAAAASQ/X-pkiLC2s6A4S51Vm_5p5ZlXaUvubAWaACLcBGAs/s1600/enter.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img alt="How to integrate Salesforce with Zomato using Lightning Web Components" border="0" data-original-height="268" data-original-width="448" src="https://1.bp.blogspot.com/-NQLa_Si_g5g/XNcUwg12LoI/AAAAAAAAASQ/X-pkiLC2s6A4S51Vm_5p5ZlXaUvubAWaACLcBGAs/s1600/enter.PNG" title="How to integrate Salesforce with Zomato using Lightning Web Components" /></a></div><div class="separator" style="clear: both; text-align: center;"></div><br /><br /><span style="font-size: large;">When user enters the location name in the input and clicks Select Location button, the entered location is sent as a parameter to getLocation(<b>locationName</b>). The entered string is concatenated to the endpoint url.</span><br /><span style="font-size: large;"><br /></span> <br /><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-1Wgn125NVMY/XNcU4EgK7OI/AAAAAAAAASU/F0Kzo5OZqGcfe59E9vxhhgsTe5hxYBTHwCLcBGAs/s1600/Capture.webp" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><span style="font-size: large;"><img alt="How to integrate Salesforce with Zomato using Lightning Web Components" border="0" data-original-height="42" data-original-width="460" src="https://1.bp.blogspot.com/-1Wgn125NVMY/XNcU4EgK7OI/AAAAAAAAASU/F0Kzo5OZqGcfe59E9vxhhgsTe5hxYBTHwCLcBGAs/s1600/Capture.webp" title="How to integrate Salesforce with Zomato using Lightning Web Components" /></span></a></div><span style="font-size: large;"><br /></span> <br /><div class="separator" style="clear: both; text-align: center;"></div><span style="font-size: large;">After location is selected and entering Restaurant/Cuisine/Location (optional), on clicking <b>search Restaurants</b>&nbsp; button, the obtained location entity Id and entity type is passed to the method searchRestaurants(entityId, entityType, location), list of restaurants are obtained from the api.</span><br /><br /><h3 style="text-align: left;"><b>Zomato.js</b></h3><b><br /></b><br /><pre class="language-javascript" width="100%"><code><br />/* eslint-disable no-console */<br />import { LightningElement, track, wire} from 'lwc';<br />import getLocation from '@salesforce/apex/zomatoClass.getLocation';<br />import searchRestaurants from '@salesforce/apex/zomatoClass.searchRestaurants';<br />import { CurrentPageReference } from 'lightning/navigation';<br />import { fireEvent } from 'c/pubsub';<br /><br />export default class Zomato extends LightningElement {<br />    location = '';<br />    entityId = '';<br />    @track selectedLocation = '';<br />    entityType = '';<br />    restaurant = '';<br /><br />    @wire(CurrentPageReference) pageRef;<br /><br />    handleLocationChange(event) {<br />        this.location = event.target.value;<br />        //console.log('location', this.location);<br />    }<br /><br />    handleRestaurantChange(event) {<br />        this.restaurant = event.target.value;<br />        //console.log('restaurant', this.restaurant);<br />    }<br /><br />    selectLocation() {<br /><br />        getLocation({ 'locationName' : this.location })<br />        .then(result =&gt; {<br />            const output = JSON.parse(result);<br />            this.error = undefined<br />            console.log("Location::::", output);<br /><br />            if(output !== undefined) {<br />                this.entityId = output[0].entity_id;<br />                this.entityType = output[0].entity_type;<br />                this.selectedLocation = output[0].title;<br />                console.log('this.selectedLocation',this.selectedLocation+this.entityId+this.entityType);<br />                /*this.dispatchEvent(<br />                    new ShowToastEvent({<br />                        title: 'Success',<br />                        message: 'Account created',<br />                        variant: 'success',<br />                    }),<br />                );*/<br />            }<br />            else {<br />                console.log("No info returned in call back in selectLocation method");<br />            }<br />        })<br />        .catch(error =&gt; {<br />            this.message = undefined;<br />            this.error = error;<br />            /*this.dispatchEvent(<br />                new ShowToastEvent({<br />                    title: 'Error creating record',<br />                    message: error.body.message,<br />                    variant: 'error',<br />                }),<br />            );*/<br />            console.log("error", JSON.stringify(this.error));<br />        });<br />    }<br /><br />    searchRestaurant() {<br /><br />        console.log('restaurant selection data',this.restaurant+''+this.entityId+''+this.entityType);<br /><br />        searchRestaurants({ 'entityId' : this.entityId, 'entityType' : this.entityType, 'searchTerm' : this.restaurant})<br />        .then(result =&gt; {<br />            this.message = JSON.parse(result);<br />            this.error = undefined<br />            console.log("Restaurant List::::", this.message);<br /><br />            if(this.message !== undefined) {<br />                console.log("searchRestaurants pubSub fires....");<br />                fireEvent(this.pageRef, 'restaurantListUpdate', this.message);<br />                /*this.dispatchEvent(<br />                    new ShowToastEvent({<br />                        title: 'Success',<br />                        message: 'Account created',<br />                        variant: 'success',<br />                    }),<br />                );*/<br />            }<br />            else {<br />                console.log("No info returned in call back in searchRestaurant method");<br />            }<br />        })<br />        .catch(error =&gt; {<br />            this.message = undefined;<br />            this.error = error;<br />            /*this.dispatchEvent(<br />                new ShowToastEvent({<br />                    title: 'Error creating record',<br />                    message: error.body.message,<br />                    variant: 'error',<br />                }),<br />            );*/<br />            console.log("error", JSON.stringify(this.error));<br />        });<br />    }<br />}<br /></code></pre><br /><div><span style="font-size: large;">When the list of restaurants is obtained successfully, we pass the list to&nbsp;<b>zomatoDisplayRestaurants&nbsp;</b>component using an <b>pubsub </b>event, where the list is displayed. Don't worry about <b>pubsub</b>, just use the given the code, we will learn in depth about it in further posts. For now imagine it is similar to <i>Application event</i> in Aura framework.</span><br /><br /><blockquote class="tr_bq"><h4 style="text-align: left;"><a href="https://www.salesforcelwc.in/2019/04/publishsubscribe-pattern-in-lightning.html" rel="" style="background-color: #eeeeee;"><span style="font-size: large;"><span style="font-weight: normal;">Related Post</span><b>:&nbsp; &nbsp;Publish–Subscribe Pattern in Lightning Web Components (pubsub)</b></span></a></h4></blockquote></div><div><!-- Post Ad --><br /><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><br /><!-- In Article Display Ads --><br /><ins class="adsbygoogle" data-ad-client="ca-pub-6753262254014660" data-ad-slot="9445070986" style="display: inline-block; height: 410px; width: 640px;"></ins><br /><script>     (adsbygoogle = window.adsbygoogle || []).push({}); </script><br /><!-- Post Ad --></div><div><h3 style="text-align: left;"><b>zomatoDisplayRestaurants.html</b></h3><pre class="language-markup" width="100%"><code><br />&lt;template&gt;<br />        &lt;lightning-card title="Restaurants nearby..." icon-name="custom:custom65"&gt;<br /> <br />                &lt;ul class="slds-has-dividers_bottom-space"&gt;<br />                    &lt;template for:each={restaurantsList} for:item='rest'&gt;<br />                            &lt;li  key={rest.restaurant.id} class="slds-item" value={rest} onclick={handleRestaurantSelected}&gt;<br />                                    &lt;lightning-tile label={rest.restaurant.name} href="javascript:void(0)" type="media"&gt;<br />                                        &lt;lightning-avatar slot="media" src={rest.restaurant.thumb} fallback-icon-name="standard:person_account" alternative-text={rest.restaurant.name}&gt;&lt;/lightning-avatar&gt;<br />                                        &lt;ul class="slds-list_horizontal slds-has-dividers_right"&gt;<br />                                            &lt;li class="slds-item"&gt;{rest.restaurant.cuisines} . {rest.restaurant.user_rating.aggregate_rating}&lt;/li&gt;<br />                                            &lt;li class="slds-item"&gt;Rs.{rest.restaurant.average_cost_for_two} for 2&lt;/li&gt;<br />                                        &lt;/ul&gt;<br />                                    &lt;/lightning-tile&gt;<br />                            &lt;/li&gt;<br />                    &lt;/template&gt;<br />                &lt;/ul&gt;<br />        &lt;/lightning-card&gt;<br />&lt;/template&gt;<br /></code></pre></div><br /><span style="font-size: large;"> Iterates over&nbsp;<b>restaurantsList&nbsp;</b>displays the list.</span><br /><br /><h3 style="text-align: left;"><b>zomatoDisplayRestaurants.js</b></h3><pre class="language-javascript" width="100%"><code><br />/* eslint-disable no-console */<br />import { LightningElement, wire, track} from 'lwc';<br />import { CurrentPageReference } from 'lightning/navigation';<br />import { registerListener, unregisterAllListeners } from 'c/pubsub';<br /><br />export default class ZomatoDisplayRestaurants extends LightningElement {<br /><br />    @track restaurantsList = [];<br /><br />    @wire(CurrentPageReference) pageRef;<br /><br />    connectedCallback() {<br />        console.log('In connectedCallBack in ZomatoDisplayRestaurants');<br />        registerListener('restaurantListUpdate', this.handleRestaurants, this);<br />    }<br /><br />    disconnectedCallback() {<br />        console.log('In disconnectedCallback in ZomatoDisplayRestaurants');<br />        unregisterAllListeners(this);<br />    }<br /><br />    handleRestaurants(restaurants) {<br />        console.log('In handleRestaurants in ZomatoDisplayRestaurants');<br />        console.log('restaurants in handle', restaurants);<br />        //const output001 = JSON.parse(restaurants);<br />        //console.log('output001', output001);<br />        this.restaurantsList = restaurants;<br />        console.log('this.restaurantsList', this.restaurantsList);<br />    }<br /><br />    handleRestaurantSelected(event) {<br />        this.restaurantSelected = event.target.value;<br />        console.log('event.type', event.type);<br />        console.log('event.target.value', event.target.value);<br />        console.log('event.target', JSON.stringify(event.target));<br />        console.log('event.currentTarget', JSON.stringify(event.currentTarget));<br />        console.log('this.restaurantSelected', this.restaurantSelected);<br />    }<br />}<br /></code></pre><br /><h3 style="text-align: left;">ZomatoLocation.cls</h3><div></div><pre class="language-javascript" width="100%"><code><br />public class ZomatoLocation {<br /><br />    public List<location_suggestions> location_suggestions;<br />    public String status;<br />    public Integer has_more;<br />    public Integer has_total;<br /><br />    public class Location_suggestions {<br />        public String entity_type;<br />        public Integer entity_id;<br />        public String title;<br />        public Double latitude;<br />        public Double longitude;<br />        public Integer city_id;<br />        public String city_name;<br />        public Integer country_id;<br />        public String country_name;<br />    }<br />    <br />    public static ZomatoLocation parse(String json) {<br />        return (ZomatoLocation) System.JSON.deserialize(json, ZomatoLocation.class);<br />    }<br />}<br /></location_suggestions></code></pre><br /><span style="font-size: large;">  ZomatoLocation.cls class is written based on the JSON response.</span><br /><br /><h3 style="text-align: left;">ZomatoSearch.cls</h3><pre class="language-javascript" width="100%"><code><br />public class ZomatoSearch {<br /><br />    public Integer results_found;<br />    public Integer results_start;<br />    public Integer results_shown;<br />    public List<restaurants> restaurants;<br />    <br /> public class Restaurant {<br />  public R R;<br />  public String apikey;<br />  public String id;<br />  public String name;<br />  public String url;<br />  public Location location;<br />  public Integer switch_to_order_menu;<br />  public String cuisines;<br />  public Integer average_cost_for_two;<br />  public Integer price_range;<br />  public String myCurrency;<br />  public List<offers> offers;<br />  public Integer opentable_support;<br />  public Integer is_zomato_book_res;<br />  public String mezzo_provider;<br />  public Integer is_book_form_web_view;<br />  public String book_form_web_view_url;<br />  public String book_again_url;<br />  public String thumb;<br />  public User_rating user_rating;<br />  public String photos_url;<br />  public String menu_url;<br />  public String featured_image;<br />  public Integer has_online_delivery;<br />  public Integer is_delivering_now;<br />  public Integer has_fake_reviews;<br />  public Boolean include_bogo_offers;<br />  public String deeplink;<br />  public Integer is_table_reservation_supported;<br />  public Integer has_table_booking;<br />  public String events_url;<br />  public List<offers> establishment_types;<br /> }<br /><br /> public class R {<br />  public Integer res_id;<br /> }<br /><br /> public class User_rating {<br />  public String aggregate_rating;<br />  public String rating_text;<br />  public String rating_color;<br />  public String votes;<br />  public Integer has_fake_reviews;<br /> }<br /><br /> public class Offers {<br /> }<br /><br /> public class Restaurants {<br />  public Restaurant restaurant;<br /> }<br /><br /> public class Location {<br />  public String address;<br />  public String locality;<br />  public String city;<br />  public Integer city_id;<br />  public String latitude;<br />  public String longitude;<br />  public String zipcode;<br />  public Integer country_id;<br />  public String locality_verbose;<br /> }<br /><br /> <br /> public static ZomatoSearch parse(String json) {<br />  return (ZomatoSearch) System.JSON.deserialize(json, ZomatoSearch.class);<br /> }<br />}<br /></offers></offers></restaurants></code></pre><br /><span style="font-size: large;">  ZomatoSearch.cls class is written based on the JSON response.</span><br /><h4 style="text-align: left;"></h4><h3 style="text-align: left;">ZomatoClass.cls</h3><pre class="language-javascript" width="100%"><code><br />global class zomatoClass {<br />    <br />    <br />    //Used to get entityId and entityType<br />    @AuraEnabled<br />    public static String getLocation(String locationName) {   <br />        <br />        String reponse;<br />        <br />        List<zomatolocation .location_suggestions=""> locationList = new List<zomatolocation .location_suggestions="">();<br />        List<string> locationList1 = new List<string>();<br />        // Instantiate a new http object<br />        Http h = new Http();<br />        String url = 'https://developers.zomato.com/api/v2.1/locations';<br />        url += '?query='+locationName;<br />        <br />        // Instantiate a new HTTP request, specify the method (GET) as well as the endpoint<br />        HttpRequest req = new HttpRequest();<br />        req.setEndpoint(url);<br />        req.setHeader('Content-Type', 'application/json');<br />        req.setHeader('user-key', '3e8b235d70f0a4e7f0e5e6feebc29dd0');<br />        req.setMethod('GET');<br />        <br />        // Send the request, and return a response<br />        HttpResponse res = h.send(req);<br />        system.debug('response:::::'+res.getBody());<br />        reponse = res.getBody();<br />        //return res.getBody();<br />        if(res.getStatusCode() == 200){<br />            system.debug('Status::::::::'+res.getStatus());<br />            <br />            ZomatoLocation.Location_suggestions locationClass = new ZomatoLocation.Location_suggestions();<br />            <br />            ZomatoLocation jsonApex = ZomatoLocation.parse(reponse);<br />            <br />            system.debug('jsonApex::::::'+jsonApex.Location_suggestions);<br />            <br />            for(ZomatoLocation.Location_suggestions loc : jsonApex.Location_suggestions){<br />                System.debug('location details'+loc);<br />                //System.debug('Categories:' + category.Categories.id+':'+category.Categories.name);<br />                locationList.add(loc);<br />            }<br />            system.debug('locationList'+locationList);<br />        }<br />        system.debug('locationList222'+locationList);<br />        String locationString = System.JSON.serialize(locationList);<br />        return locationString;<br />        <br />    }<br />    <br />    <br />    @AuraEnabled<br />    public static String searchRestaurants(string entityId, string entityType, string searchTerm) {   <br />        string reponse;<br />        System.debug('Data::::'+ entityId+''+entityType+''+searchTerm);<br />        List<zomatosearch .restaurants=""> restaurantsList = new List<zomatosearch .restaurants="">();<br />        // Instantiate a new http object<br />        Http h = new Http();<br />        String url = 'https://developers.zomato.com/api/v2.1/search';<br />        url += '?entity_id='+ entityId;<br />        url += '&amp;entity_type='+ entityType;<br />        url += '&amp;q='+searchTerm;<br />        <br />        // Instantiate a new HTTP request, specify the method (GET) as well as the endpoint<br />        HttpRequest req = new HttpRequest();<br />        req.setEndpoint(url);<br />        req.setHeader('Content-Type', 'application/json');<br />        req.setHeader('user-key', '3e8b235d70f0a4e7f0e5e6feebc29dd0');<br />        req.setMethod('GET');<br />        <br />        // Send the request, and return a response<br />        HttpResponse res = h.send(req);<br />        system.debug('response:::::'+res.getBody());<br />        reponse = res.getBody();<br />        //return res.getBody();<br />        //locationDetailsList = new List<locationdetails .best_rated_restaurants="">();<br />        if(res.getStatusCode() == 200){<br />            system.debug('Status::::::::'+res.getStatus());<br />            <br />            //string strResponse = reponse.replace('Currency', 'myCurrency');<br />            //System.debug('strResponse:::::'+strResponse);<br />            <br />            ZomatoSearch jsonApex = ZomatoSearch.parse(res.getBody());<br />            <br />            system.debug('jsonApex::::::'+jsonApex);<br />            <br />            for(ZomatoSearch.Restaurants rest : jsonApex.restaurants){<br />                System.debug('Restaurants:::::'+rest.Restaurant.name);<br />                //System.debug('Categories:' + category.Categories.id+':'+category.Categories.name);<br />                restaurantsList.add(rest);<br />            }<br />            system.debug('restaurantsList::::'+restaurantsList);<br />        }<br />        String restaurantString = System.JSON.serialize(restaurantsList);<br />        return restaurantString;<br />    } <br />}<br /></locationdetails></zomatosearch></zomatosearch></string></string></zomatolocation></zomatolocation></code></pre><br /><span style="font-size: large;"></span><br /><div class="small-button"><a href="http://salesforce.com%20integration%20training/" rel="nofollow" style="font-size: x-large;" target="_blank">Salesforce.com Integration Training</a></div><div class="small-button"><span style="background-color: white; font-size: large;"><strike>full-width</strike><br /></span> <span style="background-color: white; color: #656565; font-family: &quot;source sans pro&quot; , sans-serif; font-size: large;">Hope this post helped you gain some knowledge, If you like the please don't step back to like my page and leave your feedback, It will motivate me to make more posts.</span><br /><span style="font-size: large;"><br style="background-color: white; color: #656565; font-family: &quot;source sans pro&quot;, sans-serif;" /></span> <span style="background-color: white; color: #656565; font-family: &quot;source sans pro&quot; , sans-serif; font-size: large;">Do subscribe, for getting latest updates directly in your inbox.</span><br /><!-- Post Ad --><br /><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><br /><!-- Common Display Ad --><br /><ins class="adsbygoogle"      style="display:block"      data-ad-client="ca-pub-6753262254014660"      data-ad-slot="8811166651"      data-ad-format="auto"      data-full-width-responsive="true"></ins><br /><script>     (adsbygoogle = window.adsbygoogle || []).push({}); </script><br /><!-- Post Ad --></div></div><div class="blogger-post-footer">kishore
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-6753262254014660"
     data-ad-slot="4346718206"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div>