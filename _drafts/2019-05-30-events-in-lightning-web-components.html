---
layout: post
title: Events in Lightning Web Components
date: '2019-05-30T23:55:00.000-07:00'
author: Kishore Bandanadam
tags:
- Blog
- Lightning Web Components
modified_time: '2019-10-11T22:02:06.308-07:00'
thumbnail: https://1.bp.blogspot.com/-3s681V4-_pc/XPAH2EUQFkI/AAAAAAAAAWw/LjEOcRj94k4O1jhj0x_Y6_BOgOo45CcUwCLcBGAs/s72-c/Events-in-Lightning-Web-Components-compressor.png
blogger_id: tag:blogger.com,1999:blog-1420289748500157217.post-306204184460019680
blogger_orig_url: https://www.salesforcelwc.in/2019/05/events-in-lightning-web-components.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-3s681V4-_pc/XPAH2EUQFkI/AAAAAAAAAWw/LjEOcRj94k4O1jhj0x_Y6_BOgOo45CcUwCLcBGAs/s1600/Events-in-Lightning-Web-Components-compressor.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img alt="Events in Lightning Web Components" border="0" data-original-height="410" data-original-width="640" src="https://1.bp.blogspot.com/-3s681V4-_pc/XPAH2EUQFkI/AAAAAAAAAWw/LjEOcRj94k4O1jhj0x_Y6_BOgOo45CcUwCLcBGAs/s1600/Events-in-Lightning-Web-Components-compressor.png" title="Events in Lightning Web Components" /></a></div><br /><h4 style="text-align: left;"><a href="https://www.salesforcelwc.in/2019/05/events-in-lightning-web-components.html">Events in Lightning Web Components</a></h4><br /><h2 style="text-align: left;"><span style="color: #0b5394;">Why do we need Custom Events?</span></h2><span style="font-size: large;">We need custom events to communicate up the containment hierarchy. The child component can tell its parent that something has happened or changed, without events that cannot be done.&nbsp;</span><br /><span style="font-size: large;"><br /></span> <span style="font-size: large;">So why do we need Custom events ??? to communicate up the component hierarchy. That's Right!!</span><br /><div><span style="font-size: large;"><br /></span></div><div><span style="font-size: large;">Note: To communicate down the component containment hierarchy, we can pass properties to the child via HTML attributes, or call its public methods. To communicate down the component hierarchy we don't need events.</span></div><div><br /><a name='more'></a></div><div><span style="font-size: large;">To communicate between two different components that do not have any direct relation, we use <b>publish-subscribe</b> utility.</span></div><div><span style="font-size: large;"><br /></span></div><div><span style="font-size: large;"><br /></span></div><h2 style="text-align: left;"><span style="color: #0b5394;">How to create Events?</span></h2><span style="font-size: large;">Events in Lightning web components are built on <b>DOM </b>Events.</span><br /><div><span style="font-size: large;"><br /></span></div><div><span style="font-size: large;">Design Pattern:</span></div><br /><ul style="text-align: left;"><li><span style="font-size: large;">Event name called a type</span></li><li><span style="font-size: large;">A configuration to initialize the event</span></li><li><span style="font-size: large;">A JavaScript object that emits the event</span></li></ul><div><br /></div><span style="font-size: large;">To create custom events, Salesforce strongly recommends using the CustomEvent interface. It allows us to pass any kind of data via the detail property.<br /><br />Lightning web components implement the EventTarget interface, which allows them to dispatch events, listen for events, and handle&nbsp;events</span>.<br /><span style="font-size: large;"><br />To create an event, we use the CustomEvent() constructor. To dispatch an event, call the EventTarget.dispatchEvent() method.</span><br /><span style="font-size: large;"><br /></span> <span style="font-size: large;">To understand this we will take an example:</span><br /><br /><span style="font-size: large;">Display a list with the edit button in each row, When the edit button is clicked show a pop up with a form to edit that record.</span><br /><span style="font-size: large;">Here, List is Parent component and form is the child component. When data is changed and saved show new data in the Parent List.</span><br /><span style="font-size: large;"><br /></span> <span style="font-size: large;">When we save data using child component the parent is unaware that data change has happened or say save button is clicked. To inform the parent about the change, we dispatch an event called <b><i>create</i></b>&nbsp;in the child when the save button is clicked in the&nbsp;<b>handleClick</b> method and handle it in the parent. To listen for events in Parent, use an HTML attribute with the syntax <b>on</b><i>eventName</i>. As our event type(event Name) is <i>create&nbsp;</i>the listener will be <b>on</b><i>create.</i></span><br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-I3NogcntcUY/XPAPFov_r0I/AAAAAAAAAW8/SejoSNJtlcc-scoIyapHnDGPtHyZy46HwCLcBGAs/s1600/Events%2Bin%2BLightning%2BWeb%2BComponents.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="503" data-original-width="770" src="https://1.bp.blogspot.com/-I3NogcntcUY/XPAPFov_r0I/AAAAAAAAAW8/SejoSNJtlcc-scoIyapHnDGPtHyZy46HwCLcBGAs/s1600/Events%2Bin%2BLightning%2BWeb%2BComponents.png" /></a></div><br /><h2 style="text-align: left;"><span style="color: #0b5394;">Child</span></h2><pre class="lang-js"><code><br />handleClick() {<br />        <br />        updateAcc({acc : this.account})<br />        .then(result =&gt; {<br />            this.record = result;<br /><br />            //Fire Event so that parent can know<br />            <b>this.dispatchEvent(new CustomEvent("create"));</b><br /><br />            this.error = undefined;<br />        })<br />        .catch(error =&gt; {<br />            this.error = error;<br />            this.record = undefined;<br />        });<br />}<br /></code></pre><br /><br /><span style="font-size: large;">This is a simple event like something happened event, It doesn't send any data.</span><br /><br /><h2 style="text-align: left;"><span style="color: #0b5394;">Parent</span></h2><pre class="lang-markup"><code><br />&lt;div class="slds-modal__content slds-p-around_medium"&gt;<br />    &lt;c-update-rec record-id={rec2Id} oncreate={reloadList}&gt;<br />    &lt;/c-update-rec&gt;<br />&lt;/div&gt;<br /></code></pre><br /><pre class="lang-js"><code><br />reloadList() {<br />        this.closeModal();<br />        return refreshApex(this.Accounts);<br />}<br /></code></pre><br /><br /><span style="font-size: large;">Here you can use events with data to refresh Apex only when the data is changed. This is just to understand how events work.</span><br /><br /><h2 style="text-align: left;"><span style="color: #0b5394;">Send Data in Events:</span></h2><div><span style="font-size: large;">Above what we have seen is just a "something happened" event that doesn't send any data to the parent. Like, assume there is list of accounts displayed with checkbox in each row. When the user selects the checkboxes, the selected accounts should be displayed. In this case, we need to send the selected rows account Ids as data.</span></div><div><br /></div><h2 style="text-align: left;"><span style="color: #0b5394;">In Child:</span></h2><pre class="lang-js"><code><br />onSelect() {<br />     const selectedEvent = new CustomEvent('selected', { detail: this.account.Id });<br />}<br /></code></pre><br /><h2 style="text-align: left;"><span style="color: #0b5394;">In Parent:</span></h2><pre class="lang-js"><code>onselected(event) {<br />     const accountId = event.detail;<br />}<br /></code></pre><br /><span style="font-size: large;"><br /></span> <span style="font-size: large;">Try implementing this. By any means, if you couldn't implement, just drop a comment.</span><br /><br /><span style="font-size: large;">Find full code here: </span><a href="https://www.salesforcelwc.in/2019/04/blog-post.html">Salesforce Lightning Web components | Editable List</a><br /><br /><!--PostAd--><br /><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><br /><!-- In Post --><br /><ins class="adsbygoogle"      style="display:block"      data-ad-client="ca-pub-6753262254014660"      data-ad-slot="8484998091"      data-ad-format="auto"      data-full-width-responsive="true"></ins><br /><script>     (adsbygoogle = window.adsbygoogle || []).push({}); </script><br /><!--PostAd--><br /><br /><span style="font-size: large;">Reference:</span> <a href="https://developer.salesforce.com/docs/component-library/documentation/lwc/lwc.events_create_dispatch" target="_blank">Create and Dispatch Events&nbsp;LWC Documentation</a><br /><br /><span style="color: #45818e; font-size: large;"><br /></span> <span style="color: #45818e; font-size: large;">If you enjoyed this article, share it with your group!</span><br /><div><span style="color: #45818e; font-size: large;"><br />Subscribe to get the latest updates directly in your inbox.</span></div></div><div class="blogger-post-footer">kishore
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-6753262254014660"
     data-ad-slot="4346718206"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div>